{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport Template from '../../src/components/templates/Admin';\nimport { Container, Hr, Button, Input } from '../../src/static/styled-components/base';\nimport Sidebar from '../../src/components/admin/Sidebar';\nimport { getTools } from '../../src/utils/tools';\nimport { Router } from '../../routes';\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nexport default function Tools() {\n  var _useState = useState([]),\n      tools = _useState[0],\n      setTools = _useState[1];\n\n  var _useState2 = useState(''),\n      search = _useState2[0],\n      setSearch = _useState2[1];\n\n  useEffect(function () {\n    function async() {\n      return _regeneratorRuntime.async(function async$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              getTools(function (err, r) {\n                if (err) {\n                  setSnackBar({\n                    open: true,\n                    result: 'error',\n                    message: err\n                  });\n                  setTools([]);\n                  return;\n                }\n\n                setTools(r);\n              }, {\n                search: search\n              });\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n\n    async();\n  }, [search]);\n\n  function handleChange(e) {\n    setSearch(e.target.value);\n  }\n\n  function handleClose() {\n    setSnackBar(_objectSpread({}, snackBar, {\n      open: false\n    }));\n  }\n\n  var _useState3 = useState({\n    result: \"success\",\n    open: false,\n    message: \"\"\n  }),\n      snackBar = _useState3[0],\n      setSnackBar = _useState3[1];\n\n  return __jsx(Template, null, __jsx(Sidebar, null), __jsx(Container, null, __jsx(Snackbar, {\n    open: snackBar.open,\n    autoHideDuration: 3500,\n    onClose: handleClose\n  }, __jsx(Alert, {\n    severity: snackBar.result\n  }, snackBar.message)), __jsx(\"h1\", {\n    className: \"main-title\",\n    style: {\n      textAlign: \"center\",\n      color: \"rgb(35,43,111)\"\n    }\n  }, \"Pe\\xE7as\"), __jsx(Hr, null), __jsx(Column, null, __jsx(Button, {\n    onClick: function onClick() {\n      return Router.pushRoute('/admin/tools/add-tool');\n    }\n  }, \"Adicionar nova pe\\xE7a\"), __jsx(Input, {\n    placeholder: \"Pesquise pelo nome\",\n    name: \"search\",\n    id: \"search\",\n    value: search,\n    onChange: handleChange\n  })), __jsx(Row, null, tools.map(function (tool) {\n    return __jsx(CardContainer, {\n      onClick: function onClick() {\n        return Router.pushRoute(\"/admin/tools/edit-tool?id=\" + tool.id);\n      }\n    }, __jsx(Row, {\n      style: {\n        padding: 0\n      }\n    }, __jsx(\"div\", {\n      style: {\n        flex: 1,\n        position: \"relative\",\n        display: \"flex\",\n        alignItems: \"center\",\n        background: \"lightgrey\"\n      }\n    }, tool.images.length > 0 ? __jsx(Image, {\n      style: {\n        position: \"relative\"\n      },\n      width: \"100%\",\n      height: \"100%\",\n      src: tool.images[0]\n    }) : __jsx(\"p\", {\n      style: {\n        fontSize: \".8rem\",\n        textAlign: \"center\"\n      }\n    }, \"Nenhuma imagem enviada\")), __jsx(Column, {\n      style: {\n        flex: 1,\n        justifyContent: \"flex-start\"\n      }\n    }, __jsx(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        marginBottom: \"15px\"\n      }\n    }, __jsx(\"span\", null, tool.name)), __jsx(\"span\", {\n      style: {\n        fontSize: '.8rem',\n        color: 'grey'\n      }\n    }, tool.description))));\n  }))));\n}\nvar Row = styled.div.withConfig({\n  displayName: \"tools__Row\",\n  componentId: \"sc-1nz565m-0\"\n})([\"display:flex;flex:1;flex-direction:row;justify-content:center;padding:15px;\"]);\nvar Column = styled.div.withConfig({\n  displayName: \"tools__Column\",\n  componentId: \"sc-1nz565m-1\"\n})([\"display:flex;flex:1;flex-direction:column;justify-content:center;padding:15px;\"]);\nvar Image = styled.div.withConfig({\n  displayName: \"tools__Image\",\n  componentId: \"sc-1nz565m-2\"\n})([\"display:flex;align-items:center;justify-content:center;background-image:url('\", \"');background-size:cover;background-position:center;background-repeat:no-repeat;width:\", \";height:\", \";transition:0.4s;position:relative;cursor:pointer;p{opacity:0;transition:.2s;text-align:center;}:hover{opacity:.8;p{opacity:1;color:black;background:white;padding:5px;}}\"], function (props) {\n  return props.src;\n}, function (props) {\n  return props.width;\n}, function (props) {\n  return props.height;\n});\nvar CardContainer = styled.div.withConfig({\n  displayName: \"tools__CardContainer\",\n  componentId: \"sc-1nz565m-3\"\n})([\"flex:1;min-width:250px;max-height:300px;height:250px;overflow:hidden;cursor:pointer;display:flex;flex-direction:column;flex-wrap:no-wrap;margin-bottom:10px;margin-right:10px;img{width:100%;max-width:230px;display:block;margin:auto}:hover{box-shadow:0 14px 28px rgba(0,0,0,0.25),0 10px 10px rgba(0,0,0,0.22);}box-shadow:0 3px 6px rgba(0,0,0,0.16),0 3px 6px rgba(0,0,0,0.23);}\"]);","map":null,"metadata":{},"sourceType":"module"}