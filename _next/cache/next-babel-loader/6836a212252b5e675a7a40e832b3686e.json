{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport styled from \"styled-components\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { Router } from \"../../../../routes\";\nimport { getMachine, getOptions, deleteImage as _deleteImage, updateMachine, deleteMachine } from \"../../../utils/machines\";\nimport { getNameImageFromUrl, changeFileName, validateImage } from \"../../../utils/images\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPencilAlt, faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport FileInput from \"./EditMachine/FileInput\";\nimport Message from \"../../utils/Message\";\nimport { Hr, Input, TextArea, Select, Button } from \"../../../static/styled-components/base\";\nexport default function EditMachine(_ref) {\n  var id = _ref.id;\n  var imageMessageError = \"Extens\\xE3o do arquivo enviado \\xE9 inv\\xE1lido. Extens\\xF5es permitidas \".concat(process.env.imageExtensionPermitted.toString(), \", com no m\\xE1ximo 10MB\");\n  var dispatch = useDispatch();\n\n  var _useState = useState({\n    result: \"success\",\n    open: false,\n    message: \"\"\n  }),\n      snackBar = _useState[0],\n      setSnackBar = _useState[1];\n\n  function handleClose() {\n    setSnackBar(_objectSpread({}, snackBar, {\n      open: false\n    }));\n  }\n\n  var _useState2 = useState({\n    name: \"\",\n    description: \"\",\n    mainFeatures: \"\",\n    specifications: {},\n    category: null,\n    manufacturer: null,\n    images: [],\n    productRef: []\n  }),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var _useState3 = useState({\n    machineFile1: null,\n    machineFile2: null,\n    machineFile3: null,\n    machineFile4: null,\n    machineFile5: null\n  }),\n      machineFiles = _useState3[0],\n      setMachineFiles = _useState3[1];\n\n  var _useState4 = useState(null),\n      sewingFile = _useState4[0],\n      setSewingFile = _useState4[1];\n\n  var _useState5 = useState({\n    refProdFile1: null,\n    refProdFile2: null,\n    refProdFile3: null,\n    refProdFile4: null,\n    refProdFile5: null\n  }),\n      refProdFiles = _useState5[0],\n      setRefProdFiles = _useState5[1];\n\n  var _useState6 = useState({\n    categories: [],\n    manufacturers: []\n  }),\n      categoriesManufacturers = _useState6[0],\n      setCategoriesManufacturers = _useState6[1];\n\n  var _useState7 = useState(false),\n      visible = _useState7[0],\n      setVisible = _useState7[1];\n\n  var _useState8 = useState(false),\n      title = _useState8[0],\n      setTitle = _useState8[1];\n\n  useEffect(function () {\n    function asyncFunc() {\n      getOptions(function (err, dataCb) {\n        if (err) {\n          setSnackBar({\n            result: \"error\",\n            message: err,\n            open: true\n          });\n          return;\n        }\n\n        setCategoriesManufacturers({\n          manufacturers: dataCb.manufacturers.data,\n          categories: dataCb.categories.data\n        });\n      });\n      getMachine(id, function (err, machine) {\n        if (err) {\n          setSnackBar({\n            result: \"error\",\n            message: err,\n            open: true\n          });\n          return;\n        }\n\n        console.log(machine);\n        setState(_objectSpread({}, machine, {\n          name: machine.name,\n          description: machine.description,\n          mainFeatures: machine.mainFeatures,\n          specifications: machine.specifications,\n          category: machine.category._id,\n          manufacturer: machine.manufacturer,\n          video: machine.video\n        }));\n      });\n    }\n\n    asyncFunc();\n    return function () {};\n  }, []);\n\n  function handleChangeVideo(e) {\n    var YTBaseURL = \"https://www.youtube.com/embed/\";\n\n    if (getParam(e.target.value) == 0) {\n      setSnackBar({\n        open: true,\n        result: 'error',\n        message: 'O endereço não é uma URL válida do YouTube'\n      });\n    } else {\n      setState(_objectSpread({}, state, {\n        video: YTBaseURL + getParam(e.target.value)\n      }));\n    }\n  }\n\n  function getParam(url) {\n    var results = new RegExp('[\\?&]' + 'v' + '=([^&#]*)').exec(url);\n\n    if (results == null) {\n      return 0;\n    }\n\n    return results[1] || 0;\n  }\n\n  var _useState9 = useState(null),\n      folheto = _useState9[0],\n      setFolheto = _useState9[1];\n\n  var _useState10 = useState(null),\n      manual = _useState10[0],\n      setManual = _useState10[1];\n\n  function folhetoChange(e) {\n    if (e) {\n      var type = e.target.files[0].name.split(\".\");\n\n      if (type[1] != \"pdf\") {\n        setSnackBar({\n          open: true,\n          result: 'error',\n          message: 'O folheto deve ser apenas formato PDF'\n        });\n      } else {\n        setFolheto(e.target.files[0]);\n      }\n    }\n  }\n\n  function manualChange(e) {\n    if (e) {\n      var type = e.target.files[0].name.split(\".\");\n\n      if (type[1] != \"pdf\") {\n        setSnackBar({\n          open: true,\n          result: 'error',\n          message: 'O manual deve ser apenas formato PDF'\n        });\n      } else {\n        setManual(e.target.files[0]);\n      }\n    }\n  }\n\n  function machineHandleChange(e) {\n    if (validateImage(process.env.imageExtensionPermitted, 10000, e.target.files[0])) {\n      var newName = parseInt(e.target.name[e.target.name.length - 1]) - 1;\n      setMachineFiles(_objectSpread({}, machineFiles, _defineProperty({}, e.target.name, changeFileName(e.target.files[0], newName))));\n    } else {\n      setSnackBar({\n        open: true,\n        result: 'error',\n        message: imageMessageError\n      });\n    }\n  }\n\n  function machineCleanFileInput(name) {\n    setMachineFiles(_objectSpread({}, machineFiles, _defineProperty({}, name, null)));\n  }\n\n  function refProdHandleChange(e) {\n    if (validateImage(process.env.imageExtensionPermitted, 10000, e.target.files[0])) {\n      var newName = parseInt(e.target.name[e.target.name.length - 1]) - 1;\n      setRefProdFiles(_objectSpread({}, refProdFiles, _defineProperty({}, e.target.name, changeFileName(e.target.files[0], newName))));\n    } else {\n      setSnackBar({\n        open: true,\n        result: 'error',\n        message: imageMessageError\n      });\n    }\n  }\n\n  function refProdCleanFileInput(name) {\n    setRefProdFiles(_objectSpread({}, refProdFiles, _defineProperty({}, name, null)));\n  }\n\n  function sewingHandleChange(e) {\n    if (validateImage(process.env.imageExtensionPermitted, 10000, e.target.files[0])) {\n      var newName = parseInt(e.target.name[e.target.name.length - 1]) - 1;\n      setSewingTypeFile(changeFileName(e.target.files[0], newName));\n    } else {\n      setSnackBar({\n        open: true,\n        result: 'error',\n        message: imageMessageError\n      });\n    }\n  }\n\n  function renderImage(name, type) {\n    var image = \"\";\n    state[type].forEach(function (img) {\n      var imgSplit = img.split(\"/\");\n\n      if (parseInt(name[name.length - 1]) - 1 == imgSplit[imgSplit.length - 1][0]) {\n        image = img;\n      }\n    });\n    return image;\n  }\n\n  return __jsx(React.Fragment, null, !title ? __jsx(\"h1\", {\n    className: \"main-title\",\n    style: {\n      textAlign: \"center\",\n      color: \"rgb(35,43,111)\"\n    }\n  }, state.name, __jsx(FontAwesomeIcon, {\n    icon: faPencilAlt,\n    style: {\n      width: \"16px\",\n      position: \"absolute\",\n      borderRadius: \"10px\",\n      padding: \"3px\",\n      background: \"rgb(129, 22, 27)\",\n      color: \"white\",\n      marginLeft: \"2%\",\n      top: \"20px\",\n      cursor: \"pointer\",\n      zIndex: \"9\"\n    },\n    onClick: function onClick() {\n      setTitle(true);\n    }\n  })) : __jsx(Input, {\n    style: {\n      width: \"30%\",\n      display: \"block\",\n      margin: \"15px auto\"\n    },\n    placeholder: \"Nome\",\n    value: state.name,\n    onChange: function onChange(e) {\n      return setState(_objectSpread({}, state, {\n        name: e.target.value\n      }));\n    }\n  }), __jsx(Hr, null), !title ? __jsx(\"h4\", {\n    className: \"main-title\",\n    style: {\n      textAlign: \"center\",\n      color: \"grey\"\n    }\n  }, state.description, __jsx(FontAwesomeIcon, {\n    icon: faPencilAlt,\n    style: {\n      width: \"16px\",\n      borderRadius: \"10px\",\n      padding: \"3px\",\n      background: \"rgb(129, 22, 27)\",\n      color: \"white\",\n      marginLeft: \"2%\",\n      cursor: \"pointer\",\n      zIndex: \"9\"\n    },\n    onClick: function onClick() {\n      setTitle(true);\n    }\n  })) : __jsx(Input, {\n    style: {\n      width: \"30%\",\n      display: \"block\",\n      margin: \"15px auto\"\n    },\n    placeholder: \"Subt\\xEDtulo\",\n    value: state.description,\n    onChange: function onChange(e) {\n      return setState(_objectSpread({}, state, {\n        description: e.target.value\n      }));\n    }\n  }), __jsx(\"div\", {\n    id: \"machine-images\",\n    style: {\n      width: \"100%\"\n    }\n  }, __jsx(ContainerInputFile, {\n    style: {\n      justifyContent: \"center\",\n      marginBottom: \"15px\",\n      flexWrap: \"wrap\"\n    }\n  }, __jsx(FileInput, {\n    file: machineFiles.machineFile1,\n    handleChange: machineHandleChange,\n    deleteImage: function deleteImage() {\n      return _deleteImage(state.id, \"machine\", getNameImageFromUrl(renderImage(\"machineFile1\", \"images\")), function (err) {\n        if (err) return;\n        location.reload();\n      });\n    },\n    cleanFileInput: machineCleanFileInput,\n    imageURL: renderImage(\"machineFile1\", \"images\"),\n    maxWidth: \"100%\",\n    labelWidth: \"70%\",\n    labelInputFile: \"Imagem principal\",\n    id: \"machineFile1\",\n    name: \"machineFile1\"\n  })), __jsx(ContainerInputFile, {\n    style: {\n      flexWrap: \"wrap\"\n    }\n  }, __jsx(FileInput, {\n    file: machineFiles.machineFile2,\n    handleChange: machineHandleChange,\n    deleteImage: function deleteImage() {\n      return _deleteImage(state.id, \"machine\", getNameImageFromUrl(renderImage(\"machineFile2\", \"images\")), function (err) {\n        if (err) return;\n        location.reload();\n      });\n    },\n    cleanFileInput: machineCleanFileInput,\n    imageURL: renderImage(\"machineFile2\", \"images\"),\n    labelWidth: \"200px\",\n    labelHeight: \"200px\",\n    maxWidth: \"200px\",\n    labelInputFile: \"Imagem 2\",\n    id: \"machineFile2\",\n    name: \"machineFile2\"\n  }), __jsx(FileInput, {\n    file: machineFiles.machineFile3,\n    handleChange: machineHandleChange,\n    deleteImage: function deleteImage() {\n      return _deleteImage(state.id, \"machine\", getNameImageFromUrl(renderImage(\"machineFile3\", \"images\")), function (err) {\n        if (err) return;\n        location.reload();\n      });\n    },\n    cleanFileInput: machineCleanFileInput,\n    imageURL: renderImage(\"machineFile3\", \"images\"),\n    labelWidth: \"200px\",\n    labelHeight: \"200px\",\n    maxWidth: \"200px\",\n    labelInputFile: \"Imagem 3\",\n    id: \"machineFile3\",\n    name: \"machineFile3\"\n  }), __jsx(FileInput, {\n    file: machineFiles.machineFile4,\n    handleChange: machineHandleChange,\n    deleteImage: function deleteImage() {\n      return _deleteImage(state.id, \"machine\", getNameImageFromUrl(renderImage(\"machineFile4\", \"images\")), function (err) {\n        if (err) return;\n        location.reload();\n      });\n    },\n    cleanFileInput: machineCleanFileInput,\n    imageURL: renderImage(\"machineFile4\", \"images\"),\n    labelWidth: \"200px\",\n    labelHeight: \"200px\",\n    maxWidth: \"200px\",\n    labelInputFile: \"Imagem 4\",\n    id: \"machineFile4\",\n    name: \"machineFile4\"\n  }), __jsx(FileInput, {\n    file: machineFiles.machineFile5,\n    handleChange: machineHandleChange,\n    deleteImage: function deleteImage() {\n      return _deleteImage(state.id, \"machine\", getNameImageFromUrl(renderImage(\"machineFile5\", \"images\")), function (err) {\n        if (err) return;\n        location.reload();\n      });\n    },\n    cleanFileInput: machineCleanFileInput,\n    imageURL: renderImage(\"machineFile5\", \"images\"),\n    labelWidth: \"200px\",\n    labelHeight: \"200px\",\n    maxWidth: \"200px\",\n    labelInputFile: \"Imagem 5\",\n    id: \"machineFile5\",\n    name: \"machineFile5\"\n  }))), __jsx(Section, {\n    style: {}\n  }, __jsx(\"h3\", {\n    className: \"main-title\",\n    style: {\n      textAlign: \"center\",\n      color: \"rgb(129, 22, 27)\"\n    }\n  }, \"Tipo de ponto\"), __jsx(Hr, null), __jsx(\"div\", {\n    id: \"sewing-type-images\",\n    style: {\n      width: \"100%\"\n    }\n  }, __jsx(ContainerInputFile, {\n    style: {\n      justifyContent: \"center\",\n      marginBottom: \"15px\"\n    }\n  }, __jsx(FileInput, {\n    file: sewingFile,\n    handleChange: sewingHandleChange,\n    deleteImage: function deleteImage() {\n      return _deleteImage(state.id, \"sewingType\", getNameImageFromUrl(state.sewingType), function (err) {\n        if (err) return;\n        location.reload();\n      });\n    },\n    cleanFileInput: function cleanFileInput() {\n      return setSewingFile(null);\n    },\n    imageURL: state.sewingType,\n    maxWidth: \"60%\",\n    labelWidth: \"70%\",\n    labelInputFile: \"Imagem principal\",\n    id: \"sewingFile1\",\n    name: \"sewingFile1\"\n  })))), __jsx(Section, null, __jsx(\"h3\", {\n    className: \"main-title\",\n    style: {\n      textAlign: \"center\",\n      color: \"rgb(129, 22, 27)\"\n    }\n  }, \"Produtos ideias para produzir\"), __jsx(Hr, null), __jsx(\"div\", {\n    id: \"ref-prod-images\",\n    style: {\n      width: \"100%\"\n    }\n  }, __jsx(ContainerInputFile, {\n    style: {\n      flexWrap: \"wrap\"\n    }\n  }, __jsx(FileInput, {\n    file: refProdFiles.refProdFile1,\n    handleChange: refProdHandleChange,\n    deleteImage: function deleteImage() {\n      return _deleteImage(state.id, \"productRef\", getNameImageFromUrl(renderImage(\"refProdFile1\", \"productRef\")), function (err) {\n        if (err) return;\n        location.reload();\n      });\n    },\n    cleanFileInput: refProdCleanFileInput,\n    imageURL: renderImage(\"refProdFile1\", \"productRef\"),\n    labelWidth: \"200px\",\n    labelHeight: \"200px\",\n    maxWidth: \"200px\",\n    labelInputFile: \"Imagem 1\",\n    id: \"refProdFile1\",\n    name: \"refProdFile1\"\n  }), __jsx(FileInput, {\n    file: refProdFiles.refProdFile2,\n    handleChange: refProdHandleChange,\n    deleteImage: function deleteImage() {\n      return _deleteImage(state.id, \"productRef\", getNameImageFromUrl(renderImage(\"refProdFile2\", \"productRef\")), function (err) {\n        if (err) return;\n        location.reload();\n      });\n    },\n    cleanFileInput: refProdCleanFileInput,\n    imageURL: renderImage(\"refProdFile2\", \"productRef\"),\n    labelWidth: \"200px\",\n    labelHeight: \"200px\",\n    maxWidth: \"200px\",\n    labelInputFile: \"Imagem 2\",\n    id: \"refProdFile2\",\n    name: \"refProdFile2\"\n  }), __jsx(FileInput, {\n    file: refProdFiles.refProdFile3,\n    handleChange: refProdHandleChange,\n    deleteImage: function deleteImage() {\n      return _deleteImage(state.id, \"productRef\", getNameImageFromUrl(renderImage(\"refProdFile3\", \"productRef\")), function (err) {\n        if (err) return;\n        location.reload();\n      });\n    },\n    cleanFileInput: refProdCleanFileInput,\n    imageURL: renderImage(\"refProdFile3\", \"productRef\"),\n    labelWidth: \"200px\",\n    labelHeight: \"200px\",\n    maxWidth: \"200px\",\n    labelInputFile: \"Imagem 3\",\n    id: \"refProdFile3\",\n    name: \"refProdFile3\"\n  }), __jsx(FileInput, {\n    file: refProdFiles.refProdFile4,\n    handleChange: refProdHandleChange,\n    deleteImage: function deleteImage() {\n      return _deleteImage(state.id, \"productRef\", getNameImageFromUrl(renderImage(\"refProdFile4\", \"productRef\")), function (err) {\n        if (err) return;\n        location.reload();\n      });\n    },\n    cleanFileInput: refProdCleanFileInput,\n    imageURL: renderImage(\"refProdFile4\", \"productRef\"),\n    labelWidth: \"200px\",\n    labelHeight: \"200px\",\n    maxWidth: \"200px\",\n    labelInputFile: \"Imagem 4\",\n    id: \"refProdFile4\",\n    name: \"refProdFile4\"\n  })))), __jsx(Section, null, __jsx(\"h3\", {\n    className: \"main-title\",\n    style: {\n      textAlign: \"center\",\n      color: \"rgb(129, 22, 27)\"\n    }\n  }, \"Caracter\\xEDsticas\"), __jsx(Hr, null), __jsx(\"div\", {\n    style: {\n      width: \"50%\",\n      display: \"block\",\n      margin: \"auto\"\n    }\n  }, __jsx(TextArea, {\n    value: state.mainFeatures,\n    onChange: function onChange(e) {\n      return setState(_objectSpread({}, state, {\n        mainFeatures: e.target.value\n      }));\n    },\n    rows: \"5\"\n  }, state.mainFeatures))), __jsx(Section, null, __jsx(\"h3\", {\n    className: \"main-title\",\n    style: {\n      textAlign: \"center\",\n      color: \"rgb(129, 22, 27)\"\n    }\n  }, \"Especifica\\xE7\\xF5es T\\xE9cnicas\"), __jsx(Hr, null), __jsx(\"div\", {\n    style: {\n      width: \"50%\",\n      display: \"block\",\n      margin: \"auto\"\n    }\n  }, __jsx(InputGroup, null, __jsx(\"label\", {\n    htmlFor: \"modelo\"\n  }, \"Modelo:\"), __jsx(Input, {\n    placeholder: \"Modelo\",\n    value: state.specifications ? state.specifications.modelo : \"\",\n    onChange: function onChange(e) {\n      return setState(_objectSpread({}, state, {\n        specifications: _objectSpread({}, state.specifications, {\n          modelo: e.target.value\n        })\n      }));\n    }\n  })), __jsx(InputGroup, null, __jsx(\"label\", {\n    htmlFor: \"alturaCalcador\"\n  }, \"Altura do Cal\\xE7ador:\"), __jsx(Input, {\n    placeholder: \"Altura do Cal\\xE7ador\",\n    value: state.specifications ? state.specifications.alturaCalcador : \"\",\n    onChange: function onChange(e) {\n      return setState(_objectSpread({}, state, {\n        specifications: _objectSpread({}, state.specifications, {\n          alturaCalcador: e.target.value\n        })\n      }));\n    }\n  })), __jsx(InputGroup, null, __jsx(\"label\", {\n    htmlFor: \"comprimentoDoPonto\"\n  }, \"Comprimento do ponto:\"), __jsx(Input, {\n    placeholder: \"Comprimento do ponto\",\n    value: state.specifications ? state.specifications.comprimentoDoPonto : \"\",\n    onChange: function onChange(e) {\n      return setState(_objectSpread({}, state, {\n        specifications: _objectSpread({}, state.specifications, {\n          comprimentoDoPonto: e.target.value\n        })\n      }));\n    }\n  })), __jsx(InputGroup, null, __jsx(\"label\", {\n    htmlFor: \"corteDeLinha\"\n  }, \"Corte de Linha:\"), __jsx(Input, {\n    placeholder: \"Corte de linha\",\n    value: state.specifications ? state.specifications.corteDeLinha : \"\",\n    onChange: function onChange(e) {\n      return setState(_objectSpread({}, state, {\n        specifications: _objectSpread({}, state.specifications, {\n          corteDeLinha: e.target.value\n        })\n      }));\n    }\n  })), __jsx(InputGroup, null, __jsx(\"label\", {\n    htmlFor: \"velocidadeMaxima\"\n  }, \"Velocidade M\\xE1xima:\"), __jsx(Input, {\n    placeholder: \"Velocidade m\\xE1xima\",\n    value: state.specifications ? state.specifications.velocidadeMaxima : \"\",\n    onChange: function onChange(e) {\n      return setState(_objectSpread({}, state, {\n        specifications: _objectSpread({}, state.specifications, {\n          velocidadeMaxima: e.target.value\n        })\n      }));\n    }\n  })), __jsx(InputGroup, null, __jsx(\"label\", {\n    htmlFor: \"motor\"\n  }, \"Motor:\"), __jsx(Input, {\n    placeholder: \"Motor\",\n    value: state.specifications ? state.specifications.motor : \"\",\n    onChange: function onChange(e) {\n      return setState(_objectSpread({}, state, {\n        specifications: _objectSpread({}, state.specifications, {\n          motor: e.target.value\n        })\n      }));\n    }\n  })), __jsx(InputGroup, null, __jsx(\"label\", {\n    htmlFor: \"numeroDeAgulhas\"\n  }, \"N\\xFAmero de Agulhas:\"), __jsx(Input, {\n    placeholder: \"N\\xFAmero de agulhas\",\n    value: state.specifications ? state.specifications.numeroDeAgulhas : \"\",\n    onChange: function onChange(e) {\n      return setState(_objectSpread({}, state, {\n        specifications: _objectSpread({}, state.specifications, {\n          numeroDeAgulhas: e.target.value\n        })\n      }));\n    }\n  })), __jsx(InputGroup, null, __jsx(\"label\", {\n    htmlFor: \"painelTouchScreen\"\n  }, \"Painel touch screen:\"), __jsx(Input, {\n    placeholder: \"Painel touch screen\",\n    value: state.specifications ? state.specifications.painelTouchScreen : \"\",\n    onChange: function onChange(e) {\n      return setState(_objectSpread({}, state, {\n        specifications: _objectSpread({}, state.specifications, {\n          painelTouchScreen: e.target.value\n        })\n      }));\n    }\n  })), __jsx(InputGroup, null, __jsx(\"label\", {\n    htmlFor: \"tipoDeAgulha\"\n  }, \"Tipo de agulha:\"), __jsx(Input, {\n    placeholder: \"Tipo de agulha\",\n    value: state.specifications ? state.specifications.tipoDeAgulha : \"\",\n    onChange: function onChange(e) {\n      return setState(_objectSpread({}, state, {\n        specifications: _objectSpread({}, state.specifications, {\n          tipoDeAgulha: e.target.value\n        })\n      }));\n    }\n  })))), __jsx(Section, null, __jsx(\"h3\", {\n    className: \"main-title\",\n    style: {\n      textAlign: \"center\",\n      color: \"rgb(129, 22, 27)\"\n    }\n  }, \"Categoria e fabricante\"), __jsx(Hr, null), __jsx(\"div\", {\n    style: {\n      width: \"50%\",\n      display: \"block\",\n      margin: \"auto\"\n    }\n  }, __jsx(Select, {\n    value: state.category,\n    onChange: function onChange(e) {\n      return setState(_objectSpread({}, state, {\n        category: e.target.value\n      }));\n    }\n  }, __jsx(\"option\", {\n    value: \"\"\n  }, \"Escolha uma categoria\"), categoriesManufacturers.categories.map(function (category) {\n    return __jsx(\"option\", {\n      selected: state.category == category.id ? category.id : false,\n      value: category.id\n    }, category.name);\n  })), __jsx(Select, {\n    value: state.manufacturer,\n    onChange: function onChange(e) {\n      return setState(_objectSpread({}, state, {\n        manufacturer: e.target.value\n      }));\n    }\n  }, __jsx(\"option\", {\n    value: \"\"\n  }, \"Escolha um fabricante\"), categoriesManufacturers.manufacturers.map(function (manu) {\n    return __jsx(\"option\", {\n      selected: state.manufacturer == manu.id ? manu.id : false,\n      value: manu.id\n    }, manu.name);\n  })))), __jsx(Section, null, __jsx(\"h3\", {\n    className: \"main-title\",\n    style: {\n      textAlign: \"center\",\n      color: \"rgb(129, 22, 27)\",\n      marginTop: \"15px\"\n    }\n  }, \"V\\xEDdeo (YouTube)\"), __jsx(Section, {\n    style: {\n      justifyContent: \"center\",\n      display: \"flex\"\n    }\n  }, __jsx(Input, {\n    style: {\n      width: \"50%\"\n    },\n    placeholder: \"Ex: https://www.youtube.com/watch?v=5qdtbMvC2Rs\",\n    value: state.video,\n    onChange: handleChangeVideo\n  })), __jsx(\"h3\", {\n    className: \"main-title\",\n    style: {\n      textAlign: \"center\",\n      color: \"rgb(129, 22, 27)\",\n      marginTop: \"15px\"\n    }\n  }, \"Folheto e Manual\"), __jsx(Section, {\n    style: {\n      flexWrap: \"wrap\",\n      justifyContent: \"center\",\n      width: \"50%\",\n      margin: \"auto\"\n    }\n  }, __jsx(\"div\", {\n    style: {\n      border: '2px dotted lightgrey',\n      padding: '5px',\n      minHeight: \"100px\",\n      flex: 1,\n      position: \"relative\"\n    }\n  }, folheto ? __jsx(FontAwesomeIcon, {\n    icon: faTrash,\n    style: {\n      width: \"16px\",\n      position: \"absolute\",\n      borderRadius: \"10px\",\n      padding: \"3px\",\n      background: \"rgb(129, 22, 27)\",\n      color: \"white\",\n      right: \"13px\",\n      top: \"10px\",\n      cursor: \"pointer\",\n      zIndex: \"9\"\n    },\n    onClick: function onClick() {\n      return setFolheto(null);\n    }\n  }) : state.folheto ? __jsx(ButtonDelImg, {\n    onClick: function onClick() {\n      return _deleteImage(state.id, \"folheto\", formatFileName(state.folheto), function (err) {\n        if (err) return;\n        location.reload();\n      });\n    }\n  }, \"Excluir documento\") : null, __jsx(\"label\", {\n    htmlFor: \"folheto\",\n    style: {\n      cursor: \"pointer\",\n      minHeight: \"100px\",\n      width: \"100%\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      textAlign: \"center\"\n    }\n  }, \"FOLHETO \", __jsx(\"br\", null), __jsx(\"br\", null), folheto ? folheto.name : state.folheto ? formatFileName(state.folheto) : \"Clique para escolher um arquivo\"), __jsx(\"input\", {\n    style: {\n      width: 0\n    },\n    type: \"file\",\n    name: \"folheto\",\n    id: \"folheto\",\n    onChange: folhetoChange\n  })), __jsx(\"div\", {\n    style: {\n      border: '2px dotted lightgrey',\n      padding: '5px',\n      minHeight: \"100px\",\n      flex: 1,\n      position: \"relative\"\n    }\n  }, manual ? __jsx(FontAwesomeIcon, {\n    icon: faTrash,\n    style: {\n      width: \"16px\",\n      position: \"absolute\",\n      borderRadius: \"10px\",\n      padding: \"3px\",\n      background: \"rgb(129, 22, 27)\",\n      color: \"white\",\n      right: \"13px\",\n      top: \"10px\",\n      cursor: \"pointer\",\n      zIndex: \"9\"\n    },\n    onClick: function onClick() {\n      return setManual(null);\n    }\n  }) : state.manual ? __jsx(ButtonDelImg, {\n    onClick: function onClick() {\n      return _deleteImage(state.id, \"manual\", formatFileName(state.manual), function (err) {\n        if (err) return;\n        location.reload();\n      });\n    }\n  }, \"Excluir documento\") : null, __jsx(\"label\", {\n    htmlFor: \"manual\",\n    style: {\n      cursor: \"pointer\",\n      minHeight: \"100px\",\n      width: \"100%\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      textAlign: \"center\"\n    }\n  }, \"MANUAL \", __jsx(\"br\", null), __jsx(\"br\", null), manual ? manual.name : state.manual ? formatFileName(state.manual) : \"Clique para escolher um arquivo\"), __jsx(\"input\", {\n    style: {\n      width: 0\n    },\n    type: \"file\",\n    name: \"manual\",\n    id: \"manual\",\n    onChange: manualChange\n  })))), __jsx(Section, null, visible ? __jsx(\"div\", {\n    style: {\n      display: \"flex\",\n      margin: \"15px auto\",\n      width: \"100%\",\n      justifyContent: \"center\"\n    }\n  }, __jsx(Message, {\n    result: result,\n    message: message,\n    color: color\n  }), \" \") : null, __jsx(Button, {\n    style: {\n      width: \"50%\",\n      margin: \"auto\",\n      display: \"block\"\n    },\n    onClick: function onClick() {\n      return updateMachine(state, machineFiles, sewingFile, refProdFiles, {\n        folheto: folheto,\n        manual: manual\n      }, function (err, res) {\n        if (err) {\n          setSnackBar({\n            result: \"error\",\n            open: true,\n            message: err\n          });\n          return;\n        }\n\n        setSnackBar({\n          result: \"success\",\n          open: true,\n          message: \"Máquina alterada com sucesso\"\n        });\n        setTimeout(function () {\n          location.reload();\n        }, 2000);\n      });\n    }\n  }, \"Salvar\"), __jsx(Button, {\n    style: {\n      width: \"50%\",\n      margin: \"15px auto\",\n      display: \"block\"\n    },\n    onClick: function onClick() {\n      return deleteMachine(state.id, function (err, response) {\n        if (err) {\n          setSnackBar({\n            result: \"error\",\n            message: err,\n            open: true\n          });\n          return;\n        }\n\n        setSnackBar({\n          result: \"success\",\n          message: \"Máquina excluída com sucesso\",\n          open: true\n        });\n        setTimeout(function () {\n          Router.pushRoute(\"/admin/machines\");\n        }, 2000);\n      });\n    }\n  }, \"Excluir m\\xE1quina\"), __jsx(Snackbar, {\n    open: snackBar.open,\n    autoHideDuration: 1500,\n    onClose: handleClose\n  }, __jsx(Alert, {\n    severity: snackBar.result\n  }, snackBar.message))));\n\n  function formatFileName(name) {\n    var splitName = name.split('/');\n    var splittedName = splitName[splitName.length - 1].split('.');\n    return splittedName[0];\n  }\n}\nvar ButtonDelImg = styled.button.withConfig({\n  displayName: \"EditMachine__ButtonDelImg\",\n  componentId: \"md2rfm-0\"\n})([\"background-color:#960d03;color:white;padding:8px 20px;margin:8px 0;border:none;border-radius:4px;position:absolute;width:75px;right:0;top:0px;font-size:8px;z-index:9;cursor:pointer;\"]);\nexport var Section = styled.div.withConfig({\n  displayName: \"EditMachine__Section\",\n  componentId: \"md2rfm-1\"\n})([\"margin:10% 0;\"]);\nexport var MainImg = styled.img.withConfig({\n  displayName: \"EditMachine__MainImg\",\n  componentId: \"md2rfm-2\"\n})([\"width:50%;margin:10px auto;display:block;cursor:pointer;\"]);\nexport var SecondaryImages = styled.img.withConfig({\n  displayName: \"EditMachine__SecondaryImages\",\n  componentId: \"md2rfm-3\"\n})([\"max-width:25%;margin-right:5px;cursor:pointer;:hover{box-shadow:0 14px 28px rgba(0,0,0,0.25),0 10px 10px rgba(0,0,0,0.22);}box-shadow:0 3px 6px rgba(0,0,0,0.16),0 3px 6px rgba(0,0,0,0.23);\"]);\nexport var PrefImage = styled.img.withConfig({\n  displayName: \"EditMachine__PrefImage\",\n  componentId: \"md2rfm-4\"\n})([\"width:49%;margin-right:5px;margin-bottom:5px;cursor:pointer;:hover{box-shadow:0 14px 28px rgba(0,0,0,0.25),0 10px 10px rgba(0,0,0,0.22);}box-shadow:0 3px 6px rgba(0,0,0,0.16),0 3px 6px rgba(0,0,0,0.23);\"]);\nexport var MainFeaturesText = styled.p.withConfig({\n  displayName: \"EditMachine__MainFeaturesText\",\n  componentId: \"md2rfm-5\"\n})([\"\"]);\nexport var InputGroup = styled.div.withConfig({\n  displayName: \"EditMachine__InputGroup\",\n  componentId: \"md2rfm-6\"\n})([\"display:flex;flex-direction:column;width:\", \";\"], function (props) {\n  return props.width ? props.width : \"100%\";\n});\nexport var ContainerInputFile = styled.div.withConfig({\n  displayName: \"EditMachine__ContainerInputFile\",\n  componentId: \"md2rfm-7\"\n})([\"img{width:100%;margin:10px auto;display:block;cursor:pointer;}display:flex;justify-content:center;\"]);","map":null,"metadata":{},"sourceType":"module"}