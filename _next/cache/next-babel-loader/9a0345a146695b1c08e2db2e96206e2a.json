{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { Router } from \"../../routes\";\nimport GalleryImages from \"../../src/components/admin/news/GalleryImages\";\nimport Template from \"../../src/components/templates/Admin\";\nimport Sidebar from \"../../src/components/admin/Sidebar\";\nimport { Container, Button, Hr, Input } from \"../../src/static/styled-components/base\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowUp, faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport setApi from \"../../src/api\";\nexport default function News() {\n  var _useState = useState([]),\n      news = _useState[0],\n      setNews = _useState[1];\n\n  var _useState2 = useState({\n    result: \"success\",\n    open: false,\n    message: \"\"\n  }),\n      snackBar = _useState2[0],\n      setSnackBar = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      search = _useState3[0],\n      setSearch = _useState3[1];\n\n  useEffect(function () {\n    function async() {\n      setApi().get(\"/news\").then(function (response) {\n        setNews(response.data);\n      })[\"catch\"](function (err) {});\n    }\n\n    async();\n  }, []);\n\n  function handleClose() {\n    setSnackBar(_objectSpread({}, snackBar, {\n      open: false\n    }));\n  }\n\n  useEffect(function () {\n    function async() {\n      setApi().get(\"/news?search=\".concat(search)).then(function (response) {\n        if (response.data.length > 0) {\n          setNews(response.data);\n        } else {\n          setNews([]);\n          setSnackBar({\n            open: true,\n            result: \"error\",\n            message: \"Nenhuma notícia encontrada\"\n          });\n        }\n      });\n    }\n\n    async();\n  }, [search]);\n  return __jsx(Template, null, __jsx(Sidebar, null), __jsx(Snackbar, {\n    open: snackBar.open,\n    autoHideDuration: 3500,\n    onClose: handleClose\n  }, __jsx(Alert, {\n    severity: snackBar.result\n  }, snackBar.message)), __jsx(Container, null, __jsx(\"h1\", {\n    className: \"main-title\",\n    style: {\n      textAlign: \"center\",\n      color: \"rgb(35,43,111)\"\n    }\n  }, \"Todas as not\\xEDcias\"), __jsx(Hr, null), __jsx(Row, null, __jsx(Button, {\n    onClick: function onClick() {\n      return Router.pushRoute(\"/admin/news/add-news\");\n    }\n  }, \"Adicionar nova not\\xEDcia\")), __jsx(Row, null, __jsx(Input, {\n    value: search,\n    type: \"text\",\n    name: \"search\",\n    id: \"search\",\n    placeholder: \"Pesquise pelo nome\",\n    onChange: function onChange(e) {\n      return setSearch(e.target.value);\n    }\n  })), __jsx(Row, {\n    style: {\n      flexWrap: \"wrap\",\n      justifyContent: \"flex-start\",\n      margin: \"auto\"\n    }\n  }, news.map(function (news) {\n    return __jsx(CardContainer, {\n      onClick: function onClick() {\n        return Router.pushRoute(\"/admin/news/edit-news?id\" + news._id);\n      }\n    }, __jsx(Row, {\n      style: {\n        padding: 0\n      }\n    }, __jsx(\"div\", {\n      style: {\n        flex: 1,\n        position: \"relative\",\n        display: \"flex\",\n        alignItems: \"center\",\n        background: \"lightgrey\"\n      }\n    }, news.gallery.images.length > 0 ? __jsx(Image, {\n      style: {\n        position: \"relative\"\n      },\n      width: \"100%\",\n      height: \"100%\",\n      src: news.gallery.images[0]\n    }) : __jsx(\"p\", {\n      style: {\n        fontSize: \".8rem\",\n        textAlign: \"center\"\n      }\n    }, \"Nenhuma imagem enviada\")), __jsx(Column, {\n      style: {\n        flex: 1,\n        justifyContent: \"flex-start\"\n      }\n    }, __jsx(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        marginBottom: \"15px\"\n      }\n    }, __jsx(\"span\", null, news.date), __jsx(\"span\", null, news.title)), __jsx(\"span\", {\n      style: {\n        fontSize: '.8rem',\n        color: 'grey'\n      }\n    }, news.description))));\n  }))));\n}\nvar Row = styled.div.withConfig({\n  displayName: \"news__Row\",\n  componentId: \"sc-1scoirn-0\"\n})([\"display:flex;flex:1;flex-direction:row;justify-content:center;padding:15px;\"]);\nvar Column = styled.div.withConfig({\n  displayName: \"news__Column\",\n  componentId: \"sc-1scoirn-1\"\n})([\"display:flex;flex:1;flex-direction:column;justify-content:center;padding:15px;\"]);\nvar Image = styled.div.withConfig({\n  displayName: \"news__Image\",\n  componentId: \"sc-1scoirn-2\"\n})([\"display:flex;align-items:center;justify-content:center;background-image:url('\", \"');background-size:cover;background-position:center;background-repeat:no-repeat;width:\", \";height:\", \";transition:0.4s;position:relative;cursor:pointer;p{opacity:0;transition:.2s;text-align:center;}:hover{opacity:.8;p{opacity:1;color:black;background:white;padding:5px;}}\"], function (props) {\n  return props.src;\n}, function (props) {\n  return props.width;\n}, function (props) {\n  return props.height;\n});\nvar CardContainer = styled.div.withConfig({\n  displayName: \"news__CardContainer\",\n  componentId: \"sc-1scoirn-3\"\n})([\"flex:1;min-width:250px;max-height:300px;height:250px;overflow:hidden;cursor:pointer;display:flex;flex-direction:column;flex-wrap:no-wrap;margin-bottom:10px;margin-right:10px;img{width:100%;max-width:230px;display:block;margin:auto}:hover{box-shadow:0 14px 28px rgba(0,0,0,0.25),0 10px 10px rgba(0,0,0,0.22);}box-shadow:0 3px 6px rgba(0,0,0,0.16),0 3px 6px rgba(0,0,0,0.23);}\"]);","map":{"version":3,"sources":["C:/Users/Gluz/Projects/web/multcostura/multcostura-web/pages/admin/news.js"],"names":["React","useState","useEffect","styled","Router","GalleryImages","Template","Sidebar","Container","Button","Hr","Input","Snackbar","Alert","FontAwesomeIcon","faArrowUp","faTrash","setApi","News","news","setNews","result","open","message","snackBar","setSnackBar","search","setSearch","async","get","then","response","data","err","handleClose","length","textAlign","color","pushRoute","e","target","value","flexWrap","justifyContent","margin","map","_id","padding","flex","position","display","alignItems","background","gallery","images","fontSize","flexDirection","marginBottom","date","title","description","Row","div","Column","Image","props","src","width","height","CardContainer"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { Router } from \"../../routes\";\n\nimport GalleryImages from \"../../src/components/admin/news/GalleryImages\";\nimport Template from \"../../src/components/templates/Admin\";\nimport Sidebar from \"../../src/components/admin/Sidebar\";\nimport {\n  Container,\n  Button,\n  Hr,\n  Input\n} from \"../../src/static/styled-components/base\";\n\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowUp, faTrash } from \"@fortawesome/free-solid-svg-icons\";\n\nimport setApi from \"../../src/api\";\n\nexport default function News() {\n  const [news, setNews] = useState([]);\n  const [snackBar, setSnackBar] = useState({\n    result: \"success\",\n    open: false,\n    message: \"\"\n  });\n  const [search, setSearch] = useState(\"\");\n  useEffect(() => {\n    function async() {\n      setApi()\n        .get(\"/news\")\n        .then(response => {\n          setNews(response.data);\n        })\n        .catch(err => {});\n    }\n    async();\n  }, []);\n\n  function handleClose() {\n    setSnackBar({\n      ...snackBar,\n      open: false\n    });\n  }\n\n  useEffect(() => {\n    function async() {\n      setApi()\n        .get(`/news?search=${search}`)\n        .then(response => {\n          if (response.data.length > 0) {\n            setNews(response.data);\n          } else {\n            setNews([]);\n            setSnackBar({\n              open: true,\n              result: \"error\",\n              message: \"Nenhuma notícia encontrada\"\n            });\n          }\n        });\n    }\n    async();\n  }, [search]);\n  return (\n    <Template>\n      <Sidebar />\n      <Snackbar\n        open={snackBar.open}\n        autoHideDuration={3500}\n        onClose={handleClose}\n      >\n        <Alert severity={snackBar.result}>{snackBar.message}</Alert>\n      </Snackbar>\n      <Container>\n        <h1\n          className=\"main-title\"\n          style={{\n            textAlign: \"center\",\n            color: \"rgb(35,43,111)\"\n          }}\n        >\n          Todas as notícias\n        </h1>\n        <Hr />\n        <Row>\n          <Button onClick={() => Router.pushRoute(\"/admin/news/add-news\")}>\n            Adicionar nova notícia\n          </Button>\n        </Row>\n        <Row>\n          <Input\n            value={search}\n            type=\"text\"\n            name=\"search\"\n            id=\"search\"\n            placeholder=\"Pesquise pelo nome\"\n            onChange={e => setSearch(e.target.value)}\n          />\n        </Row>\n        <Row style={{ flexWrap: \"wrap\", justifyContent: \"flex-start\", margin: \"auto\" }}>\n          {news.map(news => (\n            <CardContainer\n              onClick={() =>\n                Router.pushRoute(\"/admin/news/edit-news?id\" + news._id)\n              }\n            >\n              <Row style={{ padding: 0 }}>\n                <div style={{ flex: 1, position: \"relative\", display: \"flex\", alignItems: \"center\", background: \"lightgrey\" }}>\n                  {news.gallery.images.length > 0 ? <Image style={{ position: \"relative\" }} width=\"100%\" height=\"100%\" src={news.gallery.images[0]} /> : <p style={{fontSize: \".8rem\", textAlign: \"center\"}}>Nenhuma imagem enviada</p>}\n                </div>                  \n                <Column style={{ flex: 1, justifyContent: \"flex-start\" }}>\n                  <div style={{ display: \"flex\", flexDirection: \"column\", marginBottom: \"15px\"}}>\n                    <span>{news.date}</span>\n                    <span>{news.title}</span>\n                  </div>\n\n                  <span style={{ fontSize: '.8rem', color: 'grey' }}>{news.description}</span>                  \n                </Column>\n              </Row>\n            </CardContainer>\n          ))}\n        </Row>\n      </Container>\n    </Template>\n  );\n}\n\nconst Row = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: row;\n  justify-content: center;\n  padding: 15px;\n`;\n\nconst Column = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: center;\n  padding: 15px;\n`;\n\nconst Image = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-image: url('${props => props.src}');\n    background-size: cover;\n    background-position: center;\n    background-repeat: no-repeat;\n    width: ${props => props.width};\n    height: ${props => props.height};\n    transition: 0.4s;\n    position: relative;\n    cursor: pointer;\n    p {\n      opacity: 0;\n      transition: .2s;\n      text-align: center;\n    }\n    :hover {\n      opacity: .8;\n      p {\n        opacity: 1;\n        color: black;\n        background: white;\n        padding: 5px;\n      }\n    }\n`;\n\nconst CardContainer = styled.div`\n\tflex: 1;\n  min-width: 250px;\n\tmax-height: 300px;\n  height: 250px;\n\toverflow: hidden;\n\tcursor: pointer;\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-wrap: no-wrap;\n\tmargin-bottom: 10px;\n\tmargin-right: 10px;\n\timg {\n\t\twidth: 100%;\n\t\tmax-width: 230px;\n\t\tdisplay: block;\n\t\tmargin: auto\n\t}\n\t:hover {\n\t\tbox-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n\t}\n\tbox-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n\n}\n`;\n"]},"metadata":{},"sourceType":"module"}