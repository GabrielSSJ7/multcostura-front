{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowUp } from \"@fortawesome/free-solid-svg-icons\";\nimport { Creators } from \"../../ducks/upload\";\nimport { validateImage } from '../../utils/images';\nimport { Creators as UtilsCreators } from \"../../ducks/utils\";\nvar reactCtx = React.createContext({});\nexport default function Upload(_ref) {\n  var _jsx;\n\n  var onRef = _ref.onRef,\n      imageURL = _ref.imageURL,\n      labelInputFile = _ref.labelInputFile,\n      id = _ref.id;\n  var ctx = useContext(reactCtx);\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return state.Upload;\n  }),\n      file = _useSelector.file,\n      key = _useSelector.key;\n\n  useEffect(function () {\n    if (onRef) onRef(ctx);\n  }, []);\n  useEffect(function () {\n    console.log(file);\n    return function () {};\n  }, [file]);\n\n  function handleChange(event) {\n    if (validateImage(process.env.imageExtensionPermitted, 10000, event.target.files[0])) {\n      var _file = event.target.files[0];\n\n      if (_file) {\n        dispatch(Creators.changeFile(_file));\n      } else {\n        dispatch(Creators.changeFile(null));\n      }\n    }\n  }\n\n  return __jsx(React.Fragment, null, __jsx(\"input\", (_jsx = {\n    id: id,\n    type: \"file\",\n    style: {\n      width: \"0.1px\",\n      height: \"0.1px\",\n      opacity: 0,\n      overflow: \"hidden\",\n      position: \"absolute\",\n      zIndex: -1\n    },\n    name: \"icon\"\n  }, _defineProperty(_jsx, \"id\", \"icon\"), _defineProperty(_jsx, \"onChange\", handleChange), _defineProperty(_jsx, \"key\", key), _jsx)), __jsx(\"label\", {\n    htmlFor: \"icon\",\n    style: {\n      border: \"1px dotted lightgrey\",\n      padding: \"5px 10px\",\n      cursor: \"pointer\"\n    }\n  }, __jsx(\"span\", {\n    style: {\n      display: file ? \"none\" : imageURL ? \"none\" : \"flex\",\n      flexDirection: \"column \"\n    }\n  }, __jsx(FontAwesomeIcon, {\n    icon: faArrowUp,\n    style: {\n      width: \"32px\",\n      margin: \"auto\",\n      display: \"block\"\n    }\n  }), \" \", __jsx(\"br\", null), __jsx(\"hr\", {\n    style: {\n      width: \"100%\"\n    }\n  }), labelInputFile), file ? __jsx(\"img\", {\n    src: file ? URL.createObjectURL(file) : \"\"\n  }) : __jsx(\"img\", {\n    src: imageURL\n  })));\n}","map":null,"metadata":{},"sourceType":"module"}