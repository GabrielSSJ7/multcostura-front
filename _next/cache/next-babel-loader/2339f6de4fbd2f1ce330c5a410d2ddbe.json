{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { Router } from \"../../routes\";\nimport GalleryImages from \"../../src/components/admin/news/GalleryImages\";\nimport Template from \"../../src/components/templates/Admin\";\nimport Sidebar from \"../../src/components/admin/Sidebar\";\nimport { Container, Button, Hr, Input } from \"../../src/static/styled-components/base\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowUp, faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport setApi from \"../../src/api\";\nexport default function News() {\n  const {\n    0: news,\n    1: setNews\n  } = useState([]);\n  const {\n    0: snackBar,\n    1: setSnackBar\n  } = useState({\n    result: \"success\",\n    open: false,\n    message: \"\"\n  });\n  const {\n    0: search,\n    1: setSearch\n  } = useState(\"\");\n  useEffect(() => {\n    function async() {\n      setApi().get(\"/news\").then(response => {\n        setNews(response.data);\n      }).catch(err => {});\n    }\n\n    async();\n  }, []);\n\n  function handleClose() {\n    setSnackBar(_objectSpread({}, snackBar, {\n      open: false\n    }));\n  }\n\n  useEffect(() => {\n    function async() {\n      setApi().get(`/news?search=${search}`).then(response => {\n        if (response.data.length > 0) {\n          setNews(response.data);\n        } else {\n          setNews([]);\n          setSnackBar({\n            open: true,\n            result: \"error\",\n            message: \"Nenhuma notÃ­cia encontrada\"\n          });\n        }\n      });\n    }\n\n    async();\n  }, [search]);\n  return __jsx(Template, null, __jsx(Sidebar, null), __jsx(Snackbar, {\n    open: snackBar.open,\n    autoHideDuration: 3500,\n    onClose: handleClose\n  }, __jsx(Alert, {\n    severity: snackBar.result\n  }, snackBar.message)), __jsx(Container, null, __jsx(\"h1\", {\n    className: \"main-title\",\n    style: {\n      textAlign: \"center\",\n      color: \"rgb(35,43,111)\"\n    }\n  }, \"Todas as not\\xEDcias\"), __jsx(Hr, null), __jsx(Row, null, __jsx(Button, {\n    onClick: () => Router.pushRoute(\"/admin/news/add-news\")\n  }, \"Adicionar nova not\\xEDcia\")), __jsx(Row, null, __jsx(Input, {\n    value: search,\n    type: \"text\",\n    name: \"search\",\n    id: \"search\",\n    placeholder: \"Pesquise pelo nome\",\n    onChange: e => setSearch(e.target.value)\n  })), __jsx(Row, {\n    style: {\n      flexWrap: \"wrap\",\n      justifyContent: \"flex-start\",\n      margin: \"auto\"\n    }\n  }, news.map(news => __jsx(CardContainer, {\n    onClick: () => Router.pushRoute(\"/admin/news/edit-news?id=\" + news._id)\n  }, __jsx(Row, {\n    style: {\n      padding: 0\n    }\n  }, __jsx(\"div\", {\n    style: {\n      flex: 1,\n      position: \"relative\",\n      display: \"flex\",\n      alignItems: \"center\",\n      background: \"lightgrey\"\n    }\n  }, news.gallery.images.length > 0 ? __jsx(Image, {\n    style: {\n      position: \"relative\"\n    },\n    width: \"100%\",\n    height: \"100%\",\n    src: news.gallery.images[0]\n  }) : __jsx(\"p\", {\n    style: {\n      fontSize: \".8rem\",\n      textAlign: \"center\"\n    }\n  }, \"Nenhuma imagem enviada\")), __jsx(Column, {\n    style: {\n      flex: 1,\n      justifyContent: \"flex-start\"\n    }\n  }, __jsx(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      marginBottom: \"15px\"\n    }\n  }, __jsx(\"span\", null, news.date), __jsx(\"span\", null, news.title)), __jsx(\"span\", {\n    style: {\n      fontSize: '.8rem',\n      color: 'grey'\n    }\n  }, news.description))))))));\n}\nconst Row = styled.div.withConfig({\n  displayName: \"news__Row\",\n  componentId: \"sc-1scoirn-0\"\n})([\"display:flex;flex:1;flex-direction:row;justify-content:center;padding:15px;\"]);\nconst Column = styled.div.withConfig({\n  displayName: \"news__Column\",\n  componentId: \"sc-1scoirn-1\"\n})([\"display:flex;flex:1;flex-direction:column;justify-content:center;padding:15px;\"]);\nconst Image = styled.div.withConfig({\n  displayName: \"news__Image\",\n  componentId: \"sc-1scoirn-2\"\n})([\"display:flex;align-items:center;justify-content:center;background-image:url('\", \"');background-size:cover;background-position:center;background-repeat:no-repeat;width:\", \";height:\", \";transition:0.4s;position:relative;cursor:pointer;p{opacity:0;transition:.2s;text-align:center;}:hover{opacity:.8;p{opacity:1;color:black;background:white;padding:5px;}}\"], props => props.src, props => props.width, props => props.height);\nconst CardContainer = styled.div.withConfig({\n  displayName: \"news__CardContainer\",\n  componentId: \"sc-1scoirn-3\"\n})([\"flex:1;min-width:250px;max-height:300px;height:250px;overflow:hidden;cursor:pointer;display:flex;flex-direction:column;flex-wrap:no-wrap;margin-bottom:10px;margin-right:10px;img{width:100%;max-width:230px;display:block;margin:auto}:hover{box-shadow:0 14px 28px rgba(0,0,0,0.25),0 10px 10px rgba(0,0,0,0.22);}box-shadow:0 3px 6px rgba(0,0,0,0.16),0 3px 6px rgba(0,0,0,0.23);}\"]);","map":null,"metadata":{},"sourceType":"module"}