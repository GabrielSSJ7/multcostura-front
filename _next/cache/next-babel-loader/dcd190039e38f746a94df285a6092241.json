{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport styled from \"styled-components\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { Router } from \"../../../../routes\";\nimport { getTool, getOptions, deleteImage, updateTool, deleteTool } from \"../../../utils/tools\";\nimport { getNameImageFromUrl, changeFileName, validateImage } from \"../../../utils/images\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPencilAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport FileInput from \"./EditMachine/FileInput\";\nimport Message from \"../../utils/Message\";\nimport { Hr, Input, TextArea, Select, Button } from \"../../../static/styled-components/base\";\nexport default function EditMachine({\n  id\n}) {\n  const imageMessageError = `Extensão do arquivo enviado é inválido. Extensões permitidas ${process.env.imageExtensionPermitted.toString()}, com no máximo 10MB`;\n  const dispatch = useDispatch();\n  const {\n    0: snackBar,\n    1: setSnackBar\n  } = useState({\n    result: \"success\",\n    open: false,\n    message: \"\"\n  });\n\n  function handleClose() {\n    setSnackBar(_objectSpread({}, snackBar, {\n      open: false\n    }));\n  }\n\n  const {\n    0: state,\n    1: setState\n  } = useState({\n    name: \"\",\n    description: \"\",\n    mainFeatures: \"\",\n    specifications: {},\n    category: null,\n    manufacturer: null,\n    images: [],\n    productRef: []\n  });\n  const {\n    0: toolFiles,\n    1: setToolFiles\n  } = useState({\n    toolFile1: null,\n    toolFile2: null,\n    toolFile3: null,\n    toolFile4: null,\n    toolFile5: null\n  });\n  const {\n    0: manufacturers,\n    1: setManufacturers\n  } = useState({\n    categories: [],\n    manufacturers: []\n  });\n  const {\n    0: visible,\n    1: setVisible\n  } = useState(false);\n  const {\n    0: title,\n    1: setTitle\n  } = useState(false);\n  useEffect(() => {\n    function asyncFunc() {\n      getOptions(function (err, dataCb) {\n        if (err) {\n          setSnackBar({\n            result: \"error\",\n            message: err,\n            open: true\n          });\n          return;\n        }\n\n        setManufacturers({\n          manufacturers: dataCb.manufacturers.data,\n          categories: dataCb.categories.data\n        });\n      });\n      getTool(id, function (err, tool) {\n        if (err) {\n          setSnackBar({\n            result: \"error\",\n            message: err,\n            open: true\n          });\n          return;\n        }\n\n        setState(_objectSpread({}, tool, {\n          name: tool.name,\n          description: tool.description,\n          mainFeatures: tool.mainFeatures,\n          manufacturer: tool.manufacturer\n        }));\n      });\n    }\n\n    asyncFunc();\n    return () => {};\n  }, []);\n\n  function toolHandleChange(e) {\n    if (validateImage(process.env.imageExtensionPermitted, 10000, e.target.files[0])) {\n      const newName = parseInt(e.target.name[e.target.name.length - 1]) - 1;\n      setToolFiles(_objectSpread({}, toolFiles, {\n        [e.target.name]: changeFileName(e.target.files[0], newName)\n      }));\n    } else {\n      setSnackBar({\n        open: true,\n        result: 'error',\n        message: imageMessageError\n      });\n    }\n  }\n\n  function toolCleanInput(name) {\n    setToolFiles(_objectSpread({}, toolFiles, {\n      [name]: null\n    }));\n  }\n\n  function renderImage(name, type) {\n    let image = \"\";\n    state[type].forEach(img => {\n      const imgSplit = img.split(\"/\");\n\n      if (parseInt(name[name.length - 1]) - 1 == imgSplit[imgSplit.length - 1][0]) {\n        image = img;\n      }\n    });\n    return image;\n  }\n\n  return __jsx(React.Fragment, null, !title ? __jsx(\"h1\", {\n    className: \"main-title\",\n    style: {\n      textAlign: \"center\",\n      color: \"rgb(35,43,111)\"\n    }\n  }, state.name, __jsx(FontAwesomeIcon, {\n    icon: faPencilAlt,\n    style: {\n      width: \"16px\",\n      position: \"absolute\",\n      borderRadius: \"10px\",\n      padding: \"3px\",\n      background: \"rgb(129, 22, 27)\",\n      color: \"white\",\n      marginLeft: \"2%\",\n      top: \"20px\",\n      cursor: \"pointer\",\n      zIndex: \"9\"\n    },\n    onClick: () => {\n      setTitle(true);\n    }\n  })) : __jsx(Input, {\n    style: {\n      width: \"30%\",\n      display: \"block\",\n      margin: \"15px auto\"\n    },\n    placeholder: \"Nome\",\n    value: state.name,\n    onChange: e => setState(_objectSpread({}, state, {\n      name: e.target.value\n    }))\n  }), __jsx(Hr, null), !title ? __jsx(\"h4\", {\n    className: \"main-title\",\n    style: {\n      textAlign: \"center\",\n      color: \"grey\"\n    }\n  }, state.description, __jsx(FontAwesomeIcon, {\n    icon: faPencilAlt,\n    style: {\n      width: \"16px\",\n      borderRadius: \"10px\",\n      padding: \"3px\",\n      background: \"rgb(129, 22, 27)\",\n      color: \"white\",\n      marginLeft: \"2%\",\n      cursor: \"pointer\",\n      zIndex: \"9\"\n    },\n    onClick: () => {\n      setTitle(true);\n    }\n  })) : __jsx(Input, {\n    style: {\n      width: \"30%\",\n      display: \"block\",\n      margin: \"15px auto\"\n    },\n    placeholder: \"Subt\\xEDtulo\",\n    value: state.description,\n    onChange: e => setState(_objectSpread({}, state, {\n      description: e.target.value\n    }))\n  }), __jsx(\"div\", {\n    id: \"tools-images\",\n    style: {\n      width: \"100%\"\n    }\n  }, __jsx(ContainerInputFile, {\n    style: {\n      justifyContent: \"center\",\n      marginBottom: \"15px\",\n      flexWrap: \"wrap\"\n    }\n  }, __jsx(FileInput, {\n    file: toolFiles.toolFile1,\n    handleChange: toolHandleChange,\n    deleteImage: () => deleteImage(state.id, \"tools\", getNameImageFromUrl(renderImage(\"toolFile1\", \"images\")), function (err) {\n      if (err) return;\n      location.reload();\n    }),\n    cleanFileInput: toolCleanInput,\n    imageURL: renderImage(\"toolFile1\", \"images\"),\n    maxWidth: \"100%\",\n    labelWidth: \"70%\",\n    labelInputFile: \"Imagem principal\",\n    id: \"toolFile1\",\n    name: \"toolFile1\"\n  })), __jsx(ContainerInputFile, {\n    style: {\n      flexWrap: \"wrap\"\n    }\n  }, __jsx(FileInput, {\n    file: toolFiles.toolFile2,\n    handleChange: toolHandleChange,\n    deleteImage: () => deleteImage(state.id, \"tools\", getNameImageFromUrl(renderImage(\"toolFile2\", \"images\")), function (err) {\n      if (err) return;\n      location.reload();\n    }),\n    cleanFileInput: toolCleanInput,\n    imageURL: renderImage(\"toolFile2\", \"images\"),\n    labelWidth: \"200px\",\n    labelHeight: \"200px\",\n    maxWidth: \"200px\",\n    labelInputFile: \"Imagem 2\",\n    id: \"toolFile2\",\n    name: \"toolFile2\"\n  }), __jsx(FileInput, {\n    file: toolFiles.toolFile3,\n    handleChange: toolHandleChange,\n    deleteImage: () => deleteImage(state.id, \"tools\", getNameImageFromUrl(renderImage(\"toolFile3\", \"images\")), function (err) {\n      if (err) return;\n      location.reload();\n    }),\n    cleanFileInput: toolCleanInput,\n    imageURL: renderImage(\"toolFile3\", \"images\"),\n    labelWidth: \"200px\",\n    labelHeight: \"200px\",\n    maxWidth: \"200px\",\n    labelInputFile: \"Imagem 3\",\n    id: \"toolFile3\",\n    name: \"toolFile3\"\n  }), __jsx(FileInput, {\n    file: toolFiles.toolFile4,\n    handleChange: toolHandleChange,\n    deleteImage: () => deleteImage(state.id, \"tools\", getNameImageFromUrl(renderImage(\"toolFile4\", \"images\")), function (err) {\n      if (err) return;\n      location.reload();\n    }),\n    cleanFileInput: toolCleanInput,\n    imageURL: renderImage(\"toolFile4\", \"images\"),\n    labelWidth: \"200px\",\n    labelHeight: \"200px\",\n    maxWidth: \"200px\",\n    labelInputFile: \"Imagem 4\",\n    id: \"toolFile4\",\n    name: \"toolFile4\"\n  }), __jsx(FileInput, {\n    file: toolFiles.toolFile5,\n    handleChange: toolHandleChange,\n    deleteImage: () => deleteImage(state.id, \"tools\", getNameImageFromUrl(renderImage(\"toolFile5\", \"images\")), function (err) {\n      if (err) return;\n      location.reload();\n    }),\n    cleanFileInput: toolCleanInput,\n    imageURL: renderImage(\"toolFile5\", \"images\"),\n    labelWidth: \"200px\",\n    labelHeight: \"200px\",\n    maxWidth: \"200px\",\n    labelInputFile: \"Imagem 5\",\n    id: \"toolFile5\",\n    name: \"toolFile5\"\n  }))), __jsx(Section, null, __jsx(\"h3\", {\n    className: \"main-title\",\n    style: {\n      textAlign: \"center\",\n      color: \"rgb(129, 22, 27)\"\n    }\n  }, \"Caracter\\xEDsticas\"), __jsx(Hr, null), __jsx(\"div\", {\n    style: {\n      width: \"50%\",\n      display: \"block\",\n      margin: \"auto\"\n    }\n  }, __jsx(TextArea, {\n    value: state.mainFeatures,\n    onChange: e => setState(_objectSpread({}, state, {\n      mainFeatures: e.target.value\n    })),\n    rows: \"5\"\n  }, state.mainFeatures))), __jsx(Section, null, __jsx(\"h3\", {\n    className: \"main-title\",\n    style: {\n      textAlign: \"center\",\n      color: \"rgb(129, 22, 27)\"\n    }\n  }, \"Fabricante\"), __jsx(Hr, null), __jsx(\"div\", {\n    style: {\n      width: \"50%\",\n      display: \"block\",\n      margin: \"auto\"\n    }\n  }, __jsx(Select, {\n    value: state.manufacturer,\n    onChange: e => setState(_objectSpread({}, state, {\n      manufacturer: e.target.value\n    }))\n  }, __jsx(\"option\", {\n    value: \"\"\n  }, \"Escolha um fabricante\"), manufacturers.manufacturers.map(manu => __jsx(\"option\", {\n    selected: state.manufacturer == manu.id ? manu.id : false,\n    value: manu.id\n  }, manu.name))))), __jsx(Section, null, visible ? __jsx(\"div\", {\n    style: {\n      display: \"flex\",\n      margin: \"15px auto\",\n      width: \"100%\",\n      justifyContent: \"center\"\n    }\n  }, __jsx(Message, {\n    result: result,\n    message: message,\n    color: color\n  }), \" \") : null, __jsx(Button, {\n    style: {\n      width: \"50%\",\n      margin: \"auto\",\n      display: \"block\"\n    },\n    onClick: () => updateTool(state, toolFiles, function (err, res) {\n      if (err) {\n        setSnackBar({\n          result: \"error\",\n          open: true,\n          message: err\n        });\n        return;\n      }\n\n      setSnackBar({\n        result: \"success\",\n        open: true,\n        message: \"Peça alterada com sucesso\"\n      });\n      setTimeout(() => {\n        location.reload();\n      }, 2000);\n    })\n  }, \"Salvar\"), __jsx(Button, {\n    style: {\n      width: \"50%\",\n      margin: \"15px auto\",\n      display: \"block\"\n    },\n    onClick: () => deleteTool(state.id, function (err, response) {\n      if (err) {\n        setSnackBar({\n          result: \"error\",\n          message: err,\n          open: true\n        });\n        return;\n      }\n\n      setSnackBar({\n        result: \"success\",\n        message: \"Peça excluída com sucesso\",\n        open: true\n      });\n      setTimeout(() => {\n        Router.pushRoute(\"/admin/tools\");\n      }, 2000);\n    })\n  }, \"Excluir m\\xE1quina\"), __jsx(Snackbar, {\n    open: snackBar.open,\n    autoHideDuration: 1500,\n    onClose: handleClose\n  }, __jsx(Alert, {\n    severity: snackBar.result\n  }, snackBar.message))));\n}\nexport const Section = styled.div.withConfig({\n  displayName: \"EditTool__Section\",\n  componentId: \"g78bad-0\"\n})([\"margin:10% 0;\"]);\nexport const MainImg = styled.img.withConfig({\n  displayName: \"EditTool__MainImg\",\n  componentId: \"g78bad-1\"\n})([\"width:50%;margin:10px auto;display:block;cursor:pointer;\"]);\nexport const SecondaryImages = styled.img.withConfig({\n  displayName: \"EditTool__SecondaryImages\",\n  componentId: \"g78bad-2\"\n})([\"max-width:25%;margin-right:5px;cursor:pointer;:hover{box-shadow:0 14px 28px rgba(0,0,0,0.25),0 10px 10px rgba(0,0,0,0.22);}box-shadow:0 3px 6px rgba(0,0,0,0.16),0 3px 6px rgba(0,0,0,0.23);\"]);\nexport const PrefImage = styled.img.withConfig({\n  displayName: \"EditTool__PrefImage\",\n  componentId: \"g78bad-3\"\n})([\"width:49%;margin-right:5px;margin-bottom:5px;cursor:pointer;:hover{box-shadow:0 14px 28px rgba(0,0,0,0.25),0 10px 10px rgba(0,0,0,0.22);}box-shadow:0 3px 6px rgba(0,0,0,0.16),0 3px 6px rgba(0,0,0,0.23);\"]);\nexport const MainFeaturesText = styled.p.withConfig({\n  displayName: \"EditTool__MainFeaturesText\",\n  componentId: \"g78bad-4\"\n})([\"\"]);\nexport const InputGroup = styled.div.withConfig({\n  displayName: \"EditTool__InputGroup\",\n  componentId: \"g78bad-5\"\n})([\"display:flex;flex-direction:column;width:\", \";\"], props => props.width ? props.width : \"100%\");\nexport const ContainerInputFile = styled.div.withConfig({\n  displayName: \"EditTool__ContainerInputFile\",\n  componentId: \"g78bad-6\"\n})([\"img{width:100%;margin:10px auto;display:block;cursor:pointer;}display:flex;justify-content:center;\"]);","map":{"version":3,"sources":["C:/Users/Gluz/Projects/web/multcostura/multcostura-web/src/components/admin/tools/EditTool.jsx"],"names":["React","useState","useEffect","useSelector","useDispatch","styled","Snackbar","Alert","Router","getTool","getOptions","deleteImage","updateTool","deleteTool","getNameImageFromUrl","changeFileName","validateImage","FontAwesomeIcon","faPencilAlt","FileInput","Message","Hr","Input","TextArea","Select","Button","EditMachine","id","imageMessageError","process","env","imageExtensionPermitted","toString","dispatch","snackBar","setSnackBar","result","open","message","handleClose","state","setState","name","description","mainFeatures","specifications","category","manufacturer","images","productRef","toolFiles","setToolFiles","toolFile1","toolFile2","toolFile3","toolFile4","toolFile5","manufacturers","setManufacturers","categories","visible","setVisible","title","setTitle","asyncFunc","err","dataCb","data","tool","toolHandleChange","e","target","files","newName","parseInt","length","toolCleanInput","renderImage","type","image","forEach","img","imgSplit","split","textAlign","color","width","position","borderRadius","padding","background","marginLeft","top","cursor","zIndex","display","margin","value","justifyContent","marginBottom","flexWrap","location","reload","map","manu","res","setTimeout","response","pushRoute","Section","div","MainImg","SecondaryImages","PrefImage","MainFeaturesText","p","InputGroup","props","ContainerInputFile"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport styled from \"styled-components\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { Router } from \"../../../../routes\";\n\nimport {\n  getTool,\n  getOptions,\n  deleteImage,\n  updateTool,\n  deleteTool\n} from \"../../../utils/tools\";\nimport { getNameImageFromUrl, changeFileName, validateImage } from \"../../../utils/images\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPencilAlt } from \"@fortawesome/free-solid-svg-icons\";\n\nimport FileInput from \"./EditMachine/FileInput\";\nimport Message from \"../../utils/Message\";\n\nimport {\n  Hr,\n  Input,\n  TextArea,\n  Select,\n  Button\n} from \"../../../static/styled-components/base\";\n\nexport default function EditMachine({ id }) {\n  const imageMessageError = `Extensão do arquivo enviado é inválido. Extensões permitidas ${process.env.imageExtensionPermitted.toString()}, com no máximo 10MB`\n  const dispatch = useDispatch();\n  const [snackBar, setSnackBar] = useState({\n    result: \"success\",\n    open: false,\n    message: \"\"\n  });\n  function handleClose() {\n    setSnackBar({\n      ...snackBar,\n      open: false\n    });\n  }\n  const [state, setState] = useState({\n    name: \"\",\n    description: \"\",\n    mainFeatures: \"\",\n    specifications: {},\n    category: null,\n    manufacturer: null,\n    images: [],\n    productRef: []\n  });\n\n  const [toolFiles, setToolFiles] = useState({\n    toolFile1: null,\n    toolFile2: null,\n    toolFile3: null,\n    toolFile4: null,\n    toolFile5: null\n  });\n\n  const [manufacturers, setManufacturers] = useState({\n    categories: [],\n    manufacturers: []\n  });\n\n  const [visible, setVisible] = useState(false);\n  const [title, setTitle] = useState(false);\n\n  useEffect(() => {\n    function asyncFunc() {\n      getOptions(function(err, dataCb) {\n        if (err) {\n          setSnackBar({\n            result: \"error\",\n            message: err,\n            open: true\n          });\n          return;\n        }\n        setManufacturers({\n          manufacturers: dataCb.manufacturers.data,\n          categories: dataCb.categories.data\n        });\n      });\n      getTool(id, function(err, tool) {\n        if (err) {\n          setSnackBar({\n            result: \"error\",\n            message: err,\n            open: true\n          });\n          return;\n        }\n        setState({\n          ...tool,\n          name: tool.name,\n          description: tool.description,\n          mainFeatures: tool.mainFeatures,\n          manufacturer: tool.manufacturer\n        });\n      });\n    }\n    asyncFunc();\n    return () => {};\n  }, []);\n\n  function toolHandleChange(e) {\n    if (validateImage(process.env.imageExtensionPermitted, 10000, e.target.files[0])) {\n      const newName = parseInt(e.target.name[e.target.name.length - 1]) - 1;\n      setToolFiles({\n        ...toolFiles,\n        [e.target.name]: changeFileName(e.target.files[0], newName)\n      });\n    } else {\n      setSnackBar({\n        open: true,\n        result: 'error',\n        message: imageMessageError\n      })\n    }\n  }\n\n  function toolCleanInput(name) {\n    setToolFiles({\n      ...toolFiles,\n      [name]: null\n    });\n  }\n\n\n\n  function renderImage(name, type) {\n    let image = \"\";\n    state[type].forEach(img => {\n      const imgSplit = img.split(\"/\");\n      if (\n        parseInt(name[name.length - 1]) - 1 ==\n        imgSplit[imgSplit.length - 1][0]\n      ) {\n        image = img;\n      }\n    });\n    return image;\n  }\n\n  return (\n    <>\n      {!title ? (\n        <h1\n          className=\"main-title\"\n          style={{\n            textAlign: \"center\",\n            color: \"rgb(35,43,111)\"\n          }}\n        >\n          {state.name}\n          <FontAwesomeIcon\n            icon={faPencilAlt}\n            style={{\n              width: \"16px\",\n              position: \"absolute\",\n              borderRadius: \"10px\",\n              padding: \"3px\",\n              background: \"rgb(129, 22, 27)\",\n              color: \"white\",\n              marginLeft: \"2%\",\n              top: \"20px\",\n              cursor: \"pointer\",\n              zIndex: \"9\"\n            }}\n            onClick={() => {\n              setTitle(true);\n            }}\n          />\n        </h1>\n      ) : (\n        <Input\n          style={{ width: \"30%\", display: \"block\", margin: \"15px auto\" }}\n          placeholder=\"Nome\"\n          value={state.name}\n          onChange={e => setState({ ...state, name: e.target.value })}\n        />\n      )}\n      <Hr />\n      {!title ? (\n        <h4\n          className=\"main-title\"\n          style={{\n            textAlign: \"center\",\n            color: \"grey\"\n          }}\n        >\n          {state.description}\n          <FontAwesomeIcon\n            icon={faPencilAlt}\n            style={{\n              width: \"16px\",\n              borderRadius: \"10px\",\n              padding: \"3px\",\n              background: \"rgb(129, 22, 27)\",\n              color: \"white\",\n              marginLeft: \"2%\",\n              cursor: \"pointer\",\n              zIndex: \"9\"\n            }}\n            onClick={() => {\n              setTitle(true);\n            }}\n          />\n        </h4>\n      ) : (\n        <Input\n          style={{ width: \"30%\", display: \"block\", margin: \"15px auto\" }}\n          placeholder=\"Subtítulo\"\n          value={state.description}\n          onChange={e => setState({ ...state, description: e.target.value })}\n        />\n      )}\n\n      <div id=\"tools-images\" style={{ width: \"100%\" }}>\n        <ContainerInputFile\n          style={{\n            justifyContent: \"center\",\n            marginBottom: \"15px\",\n            flexWrap: \"wrap\"\n          }}\n        >\n          <FileInput\n            file={toolFiles.toolFile1}\n            handleChange={toolHandleChange}\n            deleteImage={() =>\n              deleteImage(\n                state.id,\n                \"tools\",\n                getNameImageFromUrl(renderImage(\"toolFile1\", \"images\")),\n                function(err) {\n                  if (err) return;\n                  location.reload();\n                }\n              )\n            }\n            cleanFileInput={toolCleanInput}\n            imageURL={renderImage(\"toolFile1\", \"images\")}\n            maxWidth=\"100%\"\n            labelWidth=\"70%\"\n            labelInputFile=\"Imagem principal\"\n            id=\"toolFile1\"\n            name=\"toolFile1\"\n          />\n        </ContainerInputFile>\n        <ContainerInputFile style={{ flexWrap: \"wrap\" }}>\n          <FileInput\n            file={toolFiles.toolFile2}\n            handleChange={toolHandleChange}\n            deleteImage={() =>\n              deleteImage(\n                state.id,\n                \"tools\",\n                getNameImageFromUrl(renderImage(\"toolFile2\", \"images\")),\n                function(err) {\n                  if (err) return;\n                  location.reload();\n                }\n              )\n            }\n            cleanFileInput={toolCleanInput}\n            imageURL={renderImage(\"toolFile2\", \"images\")}\n            labelWidth=\"200px\"\n            labelHeight=\"200px\"\n            maxWidth=\"200px\"\n            labelInputFile=\"Imagem 2\"\n            id=\"toolFile2\"\n            name=\"toolFile2\"\n          />\n\n          <FileInput\n            file={toolFiles.toolFile3}\n            handleChange={toolHandleChange}\n            deleteImage={() =>\n              deleteImage(\n                state.id,\n                \"tools\",\n                getNameImageFromUrl(renderImage(\"toolFile3\", \"images\")),\n                function(err) {\n                  if (err) return;\n                  location.reload();\n                }\n              )\n            }\n            cleanFileInput={toolCleanInput}\n            imageURL={renderImage(\"toolFile3\", \"images\")}\n            labelWidth=\"200px\"\n            labelHeight=\"200px\"\n            maxWidth=\"200px\"\n            labelInputFile=\"Imagem 3\"\n            id=\"toolFile3\"\n            name=\"toolFile3\"\n          />\n\n          <FileInput\n            file={toolFiles.toolFile4}\n            handleChange={toolHandleChange}\n            deleteImage={() =>\n              deleteImage(\n                state.id,\n                \"tools\",\n                getNameImageFromUrl(renderImage(\"toolFile4\", \"images\")),\n                function(err) {\n                  if (err) return;\n                  location.reload();\n                }\n              )\n            }\n            cleanFileInput={toolCleanInput}\n            imageURL={renderImage(\"toolFile4\", \"images\")}\n            labelWidth=\"200px\"\n            labelHeight=\"200px\"\n            maxWidth=\"200px\"\n            labelInputFile=\"Imagem 4\"\n            id=\"toolFile4\"\n            name=\"toolFile4\"\n          />\n\n          <FileInput\n            file={toolFiles.toolFile5}\n            handleChange={toolHandleChange}\n            deleteImage={() =>\n              deleteImage(\n                state.id,\n                \"tools\",\n                getNameImageFromUrl(renderImage(\"toolFile5\", \"images\")),\n                function(err) {\n                  if (err) return;\n                  location.reload();\n                }\n              )\n            }\n            cleanFileInput={toolCleanInput}\n            imageURL={renderImage(\"toolFile5\", \"images\")}\n            labelWidth=\"200px\"\n            labelHeight=\"200px\"\n            maxWidth=\"200px\"\n            labelInputFile=\"Imagem 5\"\n            id=\"toolFile5\"\n            name=\"toolFile5\"\n          />\n        </ContainerInputFile>\n      </div>\n\n      <Section>\n        <h3\n          className=\"main-title\"\n          style={{\n            textAlign: \"center\",\n            color: \"rgb(129, 22, 27)\"\n          }}\n        >\n          Características\n        </h3>\n        <Hr />\n        <div style={{ width: \"50%\", display: \"block\", margin: \"auto\" }}>\n          <TextArea\n            value={state.mainFeatures}\n            onChange={e => setState({ ...state, mainFeatures: e.target.value })}\n            rows=\"5\"\n          >\n            {state.mainFeatures}\n          </TextArea>\n        </div>\n      </Section>\n      <Section>\n        <h3\n          className=\"main-title\"\n          style={{\n            textAlign: \"center\",\n            color: \"rgb(129, 22, 27)\"\n          }}\n        >\n          Fabricante\n        </h3>\n        <Hr />\n        <div style={{ width: \"50%\", display: \"block\", margin: \"auto\" }}>\n          <Select\n            value={state.manufacturer}\n            onChange={e => setState({ ...state, manufacturer: e.target.value })}\n          >\n            <option value=\"\">Escolha um fabricante</option>\n            {manufacturers.manufacturers.map(manu => (\n              <option\n                selected={state.manufacturer == manu.id ? manu.id : false}\n                value={manu.id}\n              >\n                {manu.name}\n              </option>\n            ))}\n          </Select>\n        </div>\n      </Section>\n      <Section>\n        {visible ? (\n          <div\n            style={{\n              display: \"flex\",\n              margin: \"15px auto\",\n              width: \"100%\",\n              justifyContent: \"center\"\n            }}\n          >\n            <Message result={result} message={message} color={color} />{\" \"}\n          </div>\n        ) : null}\n\n        <Button\n          style={{ width: \"50%\", margin: \"auto\", display: \"block\" }}\n          onClick={() =>\n            updateTool(\n              state,\n              toolFiles,\n              function(err, res) {\n                if (err) {\n                  setSnackBar({\n                    result: \"error\",\n                    open: true,\n                    message: err\n                  });\n                  return;\n                }\n                setSnackBar({\n                  result: \"success\",\n                  open: true,\n                  message: \"Peça alterada com sucesso\"\n                });\n                setTimeout(() => {\n                  location.reload();\n                }, 2000);\n              }\n            )\n          }\n        >\n          Salvar\n        </Button>\n        <Button\n          style={{ width: \"50%\", margin: \"15px auto\", display: \"block\" }}\n          onClick={() =>\n            deleteTool(state.id, function(err, response) {\n              if (err) {\n                setSnackBar({\n                  result: \"error\",\n                  message: err,\n                  open: true\n                });\n                return;\n              }\n              setSnackBar({\n                result: \"success\",\n                message: \"Peça excluída com sucesso\",\n                open: true\n              });\n              setTimeout(() => {\n                Router.pushRoute(\"/admin/tools\");\n              }, 2000);\n            })\n          }\n        >\n          Excluir máquina\n        </Button>\n        <Snackbar\n          open={snackBar.open}\n          autoHideDuration={1500}\n          onClose={handleClose}\n        >\n          <Alert severity={snackBar.result}>{snackBar.message}</Alert>\n        </Snackbar>\n      </Section>\n    </>\n  );\n}\n\nexport const Section = styled.div`\n  margin: 10% 0;\n`;\n\nexport const MainImg = styled.img`\n  width: 50%;\n  margin: 10px auto;\n  display: block;\n  cursor: pointer;\n`;\n\nexport const SecondaryImages = styled.img`\n  max-width: 25%;\n  margin-right: 5px;\n  cursor: pointer;\n  :hover {\n    box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n  }\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n`;\n\nexport const PrefImage = styled.img`\n  width: 49%;\n  margin-right: 5px;\n  margin-bottom: 5px;\n  cursor: pointer;\n  :hover {\n    box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n  }\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n`;\n\nexport const MainFeaturesText = styled.p``;\n\nexport const InputGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: ${props => (props.width ? props.width : \"100%\")};\n`;\n\nexport const ContainerInputFile = styled.div`\n  img {\n    width: 100%;\n    margin: 10px auto;\n    display: block;\n    cursor: pointer;\n  }\n  display: flex;\n  justify-content: center;\n`;\n"]},"metadata":{},"sourceType":"module"}