{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport setApi from '../src/api';\nimport { Row, Column } from '../src/static/styled-components/base';\nimport Template from '../src/components/templates/Web';\nimport Section1 from '../src/components/web/produto/Section1';\nimport Section2 from '../src/components/web/produto/Section2';\nimport loading from '../src/static/images/loading.gif';\nexport default function Produto(_ref) {\n  var id = _ref.id;\n\n  var _useState = useState({\n    category: {},\n    specifications: null,\n    images: []\n  }),\n      prod = _useState[0],\n      setProd = _useState[1];\n\n  var _useState2 = useState(false),\n      visLoading = _useState2[0],\n      setVisLoading = _useState2[1];\n\n  useEffect(function () {\n    function f() {\n      return _regeneratorRuntime.async(function f$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setVisLoading(true);\n              setApi().get(\"/machine/\".concat(id)).then(function (response) {\n                console.log(\"machine => \", response.data);\n                setProd(response.data);\n                setVisLoading(false);\n              })[\"catch\"](function (err) {\n                setApi().get(\"/tools/\".concat(id)).then(function (response) {\n                  console.log(\"tools\", response.data);\n                  setProd(_objectSpread({}, response.data, {\n                    category: {}\n                  }));\n                  setVisLoading(false);\n                })[\"catch\"](function (err) {\n                  setVisLoading(false);\n                });\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n\n    f();\n  }, []);\n  useEffect(function () {\n    console.log(\"prod => \", prod);\n  }, [prod]);\n  return __jsx(Template, null, visLoading ? __jsx(Row, {\n    style: {\n      width: \"100%\"\n    },\n    jc: \"center\",\n    ait: \"center\"\n  }, __jsx(\"img\", {\n    src: loading,\n    style: {\n      width: \"32px\",\n      height: \"32px\"\n    }\n  })) : __jsx(Column, {\n    style: {\n      width: \"100%\",\n      paddingBottom: \"55px\"\n    }\n  }, __jsx(Section1, {\n    prod: prod\n  }), __jsx(Section2, {\n    prod: prod\n  })));\n}\n\nProduto.getInitialProps = function (_ref2) {\n  var query = _ref2.query;\n  return {\n    id: query.id\n  };\n};","map":null,"metadata":{},"sourceType":"module"}