{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport styled from \"styled-components\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { Router } from \"../../../../routes\";\nimport { getTool, getOptions, deleteImage as _deleteImage, updateTool, deleteTool } from \"../../../utils/tools\";\nimport { getNameImageFromUrl, changeFileName, validateImage } from \"../../../utils/images\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPencilAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport FileInput from \"./EditMachine/FileInput\";\nimport Message from \"../../utils/Message\";\nimport { Hr, Input, TextArea, Select, Button } from \"../../../static/styled-components/base\";\nexport default function EditMachine(_ref) {\n  var id = _ref.id;\n  var imageMessageError = \"Extens\\xE3o do arquivo enviado \\xE9 inv\\xE1lido. Extens\\xF5es permitidas \".concat(process.env.imageExtensionPermitted.toString(), \", com no m\\xE1ximo 10MB\");\n  var dispatch = useDispatch();\n\n  var _useState = useState({\n    result: \"success\",\n    open: false,\n    message: \"\"\n  }),\n      snackBar = _useState[0],\n      setSnackBar = _useState[1];\n\n  function handleClose() {\n    setSnackBar(_objectSpread({}, snackBar, {\n      open: false\n    }));\n  }\n\n  var _useState2 = useState({\n    name: \"\",\n    description: \"\",\n    mainFeatures: \"\",\n    specifications: {},\n    category: null,\n    manufacturer: null,\n    images: [],\n    productRef: []\n  }),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var _useState3 = useState({\n    toolFile1: null,\n    toolFile2: null,\n    toolFile3: null,\n    toolFile4: null,\n    toolFile5: null\n  }),\n      toolFiles = _useState3[0],\n      setToolFiles = _useState3[1];\n\n  var _useState4 = useState({\n    categories: [],\n    manufacturers: []\n  }),\n      manufacturers = _useState4[0],\n      setManufacturers = _useState4[1];\n\n  var _useState5 = useState(false),\n      visible = _useState5[0],\n      setVisible = _useState5[1];\n\n  var _useState6 = useState(false),\n      title = _useState6[0],\n      setTitle = _useState6[1];\n\n  useEffect(function () {\n    function asyncFunc() {\n      getOptions(function (err, dataCb) {\n        if (err) {\n          setSnackBar({\n            result: \"error\",\n            message: err,\n            open: true\n          });\n          return;\n        }\n\n        setManufacturers({\n          manufacturers: dataCb.manufacturers.data,\n          categories: dataCb.categories.data\n        });\n      });\n      getTool(id, function (err, tool) {\n        if (err) {\n          setSnackBar({\n            result: \"error\",\n            message: err,\n            open: true\n          });\n          return;\n        }\n\n        setState(_objectSpread({}, tool, {\n          name: tool.name,\n          description: tool.description,\n          mainFeatures: tool.mainFeatures,\n          manufacturer: tool.manufacturer\n        }));\n      });\n    }\n\n    asyncFunc();\n    return function () {};\n  }, []);\n\n  function toolHandleChange(e) {\n    if (validateImage(process.env.imageExtensionPermitted, 10000, e.target.files[0])) {\n      var newName = parseInt(e.target.name[e.target.name.length - 1]) - 1;\n      setToolFiles(_objectSpread({}, toolFiles, _defineProperty({}, e.target.name, changeFileName(e.target.files[0], newName))));\n    } else {\n      setSnackBar({\n        open: true,\n        result: 'error',\n        message: imageMessageError\n      });\n    }\n  }\n\n  function toolCleanInput(name) {\n    setToolFiles(_objectSpread({}, toolFiles, _defineProperty({}, name, null)));\n  }\n\n  function renderImage(name, type) {\n    var image = \"\";\n    state[type].forEach(function (img) {\n      var imgSplit = img.split(\"/\");\n\n      if (parseInt(name[name.length - 1]) - 1 == imgSplit[imgSplit.length - 1][0]) {\n        image = img;\n      }\n    });\n    return image;\n  }\n\n  return __jsx(React.Fragment, null, !title ? __jsx(\"h1\", {\n    className: \"main-title\",\n    style: {\n      textAlign: \"center\",\n      color: \"rgb(35,43,111)\"\n    }\n  }, state.name, __jsx(FontAwesomeIcon, {\n    icon: faPencilAlt,\n    style: {\n      width: \"16px\",\n      position: \"absolute\",\n      borderRadius: \"10px\",\n      padding: \"3px\",\n      background: \"rgb(129, 22, 27)\",\n      color: \"white\",\n      marginLeft: \"2%\",\n      top: \"20px\",\n      cursor: \"pointer\",\n      zIndex: \"9\"\n    },\n    onClick: function onClick() {\n      setTitle(true);\n    }\n  })) : __jsx(Input, {\n    style: {\n      width: \"30%\",\n      display: \"block\",\n      margin: \"15px auto\"\n    },\n    placeholder: \"Nome\",\n    value: state.name,\n    onChange: function onChange(e) {\n      return setState(_objectSpread({}, state, {\n        name: e.target.value\n      }));\n    }\n  }), __jsx(Hr, null), !title ? __jsx(\"h4\", {\n    className: \"main-title\",\n    style: {\n      textAlign: \"center\",\n      color: \"grey\"\n    }\n  }, state.description, __jsx(FontAwesomeIcon, {\n    icon: faPencilAlt,\n    style: {\n      width: \"16px\",\n      borderRadius: \"10px\",\n      padding: \"3px\",\n      background: \"rgb(129, 22, 27)\",\n      color: \"white\",\n      marginLeft: \"2%\",\n      cursor: \"pointer\",\n      zIndex: \"9\"\n    },\n    onClick: function onClick() {\n      setTitle(true);\n    }\n  })) : __jsx(Input, {\n    style: {\n      width: \"30%\",\n      display: \"block\",\n      margin: \"15px auto\"\n    },\n    placeholder: \"Subt\\xEDtulo\",\n    value: state.description,\n    onChange: function onChange(e) {\n      return setState(_objectSpread({}, state, {\n        description: e.target.value\n      }));\n    }\n  }), __jsx(\"div\", {\n    id: \"tools-images\",\n    style: {\n      width: \"100%\"\n    }\n  }, __jsx(ContainerInputFile, {\n    style: {\n      justifyContent: \"center\",\n      marginBottom: \"15px\",\n      flexWrap: \"wrap\"\n    }\n  }, __jsx(FileInput, {\n    file: toolFiles.toolFile1,\n    handleChange: toolHandleChange,\n    deleteImage: function deleteImage() {\n      return _deleteImage(state.id, \"tools\", getNameImageFromUrl(renderImage(\"toolFile1\", \"images\")), function (err) {\n        if (err) return;\n        location.reload();\n      });\n    },\n    cleanFileInput: toolCleanInput,\n    imageURL: renderImage(\"toolFile1\", \"images\"),\n    maxWidth: \"100%\",\n    labelWidth: \"70%\",\n    labelInputFile: \"Imagem principal\",\n    id: \"toolFile1\",\n    name: \"toolFile1\"\n  })), __jsx(ContainerInputFile, {\n    style: {\n      flexWrap: \"wrap\"\n    }\n  }, __jsx(FileInput, {\n    file: toolFiles.toolFile2,\n    handleChange: toolHandleChange,\n    deleteImage: function deleteImage() {\n      return _deleteImage(state.id, \"tools\", getNameImageFromUrl(renderImage(\"toolFile2\", \"images\")), function (err) {\n        if (err) return;\n        location.reload();\n      });\n    },\n    cleanFileInput: toolCleanInput,\n    imageURL: renderImage(\"toolFile2\", \"images\"),\n    labelWidth: \"200px\",\n    labelHeight: \"200px\",\n    maxWidth: \"200px\",\n    labelInputFile: \"Imagem 2\",\n    id: \"toolFile2\",\n    name: \"toolFile2\"\n  }), __jsx(FileInput, {\n    file: toolFiles.toolFile3,\n    handleChange: toolHandleChange,\n    deleteImage: function deleteImage() {\n      return _deleteImage(state.id, \"tools\", getNameImageFromUrl(renderImage(\"toolFile3\", \"images\")), function (err) {\n        if (err) return;\n        location.reload();\n      });\n    },\n    cleanFileInput: toolCleanInput,\n    imageURL: renderImage(\"toolFile3\", \"images\"),\n    labelWidth: \"200px\",\n    labelHeight: \"200px\",\n    maxWidth: \"200px\",\n    labelInputFile: \"Imagem 3\",\n    id: \"toolFile3\",\n    name: \"toolFile3\"\n  }), __jsx(FileInput, {\n    file: toolFiles.toolFile4,\n    handleChange: toolHandleChange,\n    deleteImage: function deleteImage() {\n      return _deleteImage(state.id, \"tools\", getNameImageFromUrl(renderImage(\"toolFile4\", \"images\")), function (err) {\n        if (err) return;\n        location.reload();\n      });\n    },\n    cleanFileInput: toolCleanInput,\n    imageURL: renderImage(\"toolFile4\", \"images\"),\n    labelWidth: \"200px\",\n    labelHeight: \"200px\",\n    maxWidth: \"200px\",\n    labelInputFile: \"Imagem 4\",\n    id: \"toolFile4\",\n    name: \"toolFile4\"\n  }), __jsx(FileInput, {\n    file: toolFiles.toolFile5,\n    handleChange: toolHandleChange,\n    deleteImage: function deleteImage() {\n      return _deleteImage(state.id, \"tools\", getNameImageFromUrl(renderImage(\"toolFile5\", \"images\")), function (err) {\n        if (err) return;\n        location.reload();\n      });\n    },\n    cleanFileInput: toolCleanInput,\n    imageURL: renderImage(\"toolFile5\", \"images\"),\n    labelWidth: \"200px\",\n    labelHeight: \"200px\",\n    maxWidth: \"200px\",\n    labelInputFile: \"Imagem 5\",\n    id: \"toolFile5\",\n    name: \"toolFile5\"\n  }))), __jsx(Section, null, __jsx(\"h3\", {\n    className: \"main-title\",\n    style: {\n      textAlign: \"center\",\n      color: \"rgb(129, 22, 27)\"\n    }\n  }, \"Caracter\\xEDsticas\"), __jsx(Hr, null), __jsx(\"div\", {\n    style: {\n      width: \"50%\",\n      display: \"block\",\n      margin: \"auto\"\n    }\n  }, __jsx(TextArea, {\n    value: state.mainFeatures,\n    onChange: function onChange(e) {\n      return setState(_objectSpread({}, state, {\n        mainFeatures: e.target.value\n      }));\n    },\n    rows: \"5\"\n  }, state.mainFeatures))), __jsx(Section, null, __jsx(\"h3\", {\n    className: \"main-title\",\n    style: {\n      textAlign: \"center\",\n      color: \"rgb(129, 22, 27)\"\n    }\n  }, \"Fabricante\"), __jsx(Hr, null), __jsx(\"div\", {\n    style: {\n      width: \"50%\",\n      display: \"block\",\n      margin: \"auto\"\n    }\n  }, __jsx(Select, {\n    value: state.manufacturer,\n    onChange: function onChange(e) {\n      return setState(_objectSpread({}, state, {\n        manufacturer: e.target.value\n      }));\n    }\n  }, __jsx(\"option\", {\n    value: \"\"\n  }, \"Escolha um fabricante\"), manufacturers.manufacturers.map(function (manu) {\n    return __jsx(\"option\", {\n      selected: state.manufacturer == manu.id ? manu.id : false,\n      value: manu.id\n    }, manu.name);\n  })))), __jsx(Section, null, visible ? __jsx(\"div\", {\n    style: {\n      display: \"flex\",\n      margin: \"15px auto\",\n      width: \"100%\",\n      justifyContent: \"center\"\n    }\n  }, __jsx(Message, {\n    result: result,\n    message: message,\n    color: color\n  }), \" \") : null, __jsx(Button, {\n    style: {\n      width: \"50%\",\n      margin: \"auto\",\n      display: \"block\"\n    },\n    onClick: function onClick() {\n      return updateTool(state, toolFiles, function (err, res) {\n        if (err) {\n          setSnackBar({\n            result: \"error\",\n            open: true,\n            message: err\n          });\n          return;\n        }\n\n        setSnackBar({\n          result: \"success\",\n          open: true,\n          message: \"Peça alterada com sucesso\"\n        });\n        setTimeout(function () {\n          location.reload();\n        }, 2000);\n      });\n    }\n  }, \"Salvar\"), __jsx(Button, {\n    style: {\n      width: \"50%\",\n      margin: \"15px auto\",\n      display: \"block\"\n    },\n    onClick: function onClick() {\n      return deleteTool(state.id, function (err, response) {\n        if (err) {\n          setSnackBar({\n            result: \"error\",\n            message: err,\n            open: true\n          });\n          return;\n        }\n\n        setSnackBar({\n          result: \"success\",\n          message: \"Peça excluída com sucesso\",\n          open: true\n        });\n        setTimeout(function () {\n          Router.pushRoute(\"/admin/tools\");\n        }, 2000);\n      });\n    }\n  }, \"Excluir m\\xE1quina\"), __jsx(Snackbar, {\n    open: snackBar.open,\n    autoHideDuration: 1500,\n    onClose: handleClose\n  }, __jsx(Alert, {\n    severity: snackBar.result\n  }, snackBar.message))));\n}\nexport var Section = styled.div.withConfig({\n  displayName: \"EditTool__Section\",\n  componentId: \"g78bad-0\"\n})([\"margin:10% 0;\"]);\nexport var MainImg = styled.img.withConfig({\n  displayName: \"EditTool__MainImg\",\n  componentId: \"g78bad-1\"\n})([\"width:50%;margin:10px auto;display:block;cursor:pointer;\"]);\nexport var SecondaryImages = styled.img.withConfig({\n  displayName: \"EditTool__SecondaryImages\",\n  componentId: \"g78bad-2\"\n})([\"max-width:25%;margin-right:5px;cursor:pointer;:hover{box-shadow:0 14px 28px rgba(0,0,0,0.25),0 10px 10px rgba(0,0,0,0.22);}box-shadow:0 3px 6px rgba(0,0,0,0.16),0 3px 6px rgba(0,0,0,0.23);\"]);\nexport var PrefImage = styled.img.withConfig({\n  displayName: \"EditTool__PrefImage\",\n  componentId: \"g78bad-3\"\n})([\"width:49%;margin-right:5px;margin-bottom:5px;cursor:pointer;:hover{box-shadow:0 14px 28px rgba(0,0,0,0.25),0 10px 10px rgba(0,0,0,0.22);}box-shadow:0 3px 6px rgba(0,0,0,0.16),0 3px 6px rgba(0,0,0,0.23);\"]);\nexport var MainFeaturesText = styled.p.withConfig({\n  displayName: \"EditTool__MainFeaturesText\",\n  componentId: \"g78bad-4\"\n})([\"\"]);\nexport var InputGroup = styled.div.withConfig({\n  displayName: \"EditTool__InputGroup\",\n  componentId: \"g78bad-5\"\n})([\"display:flex;flex-direction:column;width:\", \";\"], function (props) {\n  return props.width ? props.width : \"100%\";\n});\nexport var ContainerInputFile = styled.div.withConfig({\n  displayName: \"EditTool__ContainerInputFile\",\n  componentId: \"g78bad-6\"\n})([\"img{width:100%;margin:10px auto;display:block;cursor:pointer;}display:flex;justify-content:center;\"]);","map":{"version":3,"sources":["C:/Users/Gluz/Projects/web/multcostura/multcostura-web/src/components/admin/tools/EditTool.jsx"],"names":["React","useState","useEffect","useSelector","useDispatch","styled","Snackbar","Alert","Router","getTool","getOptions","deleteImage","updateTool","deleteTool","getNameImageFromUrl","changeFileName","validateImage","FontAwesomeIcon","faPencilAlt","FileInput","Message","Hr","Input","TextArea","Select","Button","EditMachine","id","imageMessageError","process","env","imageExtensionPermitted","toString","dispatch","result","open","message","snackBar","setSnackBar","handleClose","name","description","mainFeatures","specifications","category","manufacturer","images","productRef","state","setState","toolFile1","toolFile2","toolFile3","toolFile4","toolFile5","toolFiles","setToolFiles","categories","manufacturers","setManufacturers","visible","setVisible","title","setTitle","asyncFunc","err","dataCb","data","tool","toolHandleChange","e","target","files","newName","parseInt","length","toolCleanInput","renderImage","type","image","forEach","img","imgSplit","split","textAlign","color","width","position","borderRadius","padding","background","marginLeft","top","cursor","zIndex","display","margin","value","justifyContent","marginBottom","flexWrap","location","reload","map","manu","res","setTimeout","response","pushRoute","Section","div","MainImg","SecondaryImages","PrefImage","MainFeaturesText","p","InputGroup","props","ContainerInputFile"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport styled from \"styled-components\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { Router } from \"../../../../routes\";\n\nimport {\n  getTool,\n  getOptions,\n  deleteImage,\n  updateTool,\n  deleteTool\n} from \"../../../utils/tools\";\nimport { getNameImageFromUrl, changeFileName, validateImage } from \"../../../utils/images\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPencilAlt } from \"@fortawesome/free-solid-svg-icons\";\n\nimport FileInput from \"./EditMachine/FileInput\";\nimport Message from \"../../utils/Message\";\n\nimport {\n  Hr,\n  Input,\n  TextArea,\n  Select,\n  Button\n} from \"../../../static/styled-components/base\";\n\nexport default function EditMachine({ id }) {\n  const imageMessageError = `Extensão do arquivo enviado é inválido. Extensões permitidas ${process.env.imageExtensionPermitted.toString()}, com no máximo 10MB`\n  const dispatch = useDispatch();\n  const [snackBar, setSnackBar] = useState({\n    result: \"success\",\n    open: false,\n    message: \"\"\n  });\n  function handleClose() {\n    setSnackBar({\n      ...snackBar,\n      open: false\n    });\n  }\n  const [state, setState] = useState({\n    name: \"\",\n    description: \"\",\n    mainFeatures: \"\",\n    specifications: {},\n    category: null,\n    manufacturer: null,\n    images: [],\n    productRef: []\n  });\n\n  const [toolFiles, setToolFiles] = useState({\n    toolFile1: null,\n    toolFile2: null,\n    toolFile3: null,\n    toolFile4: null,\n    toolFile5: null\n  });\n\n  const [manufacturers, setManufacturers] = useState({\n    categories: [],\n    manufacturers: []\n  });\n\n  const [visible, setVisible] = useState(false);\n  const [title, setTitle] = useState(false);\n\n  useEffect(() => {\n    function asyncFunc() {\n      getOptions(function(err, dataCb) {\n        if (err) {\n          setSnackBar({\n            result: \"error\",\n            message: err,\n            open: true\n          });\n          return;\n        }\n        setManufacturers({\n          manufacturers: dataCb.manufacturers.data,\n          categories: dataCb.categories.data\n        });\n      });\n      getTool(id, function(err, tool) {\n        if (err) {\n          setSnackBar({\n            result: \"error\",\n            message: err,\n            open: true\n          });\n          return;\n        }\n        setState({\n          ...tool,\n          name: tool.name,\n          description: tool.description,\n          mainFeatures: tool.mainFeatures,\n          manufacturer: tool.manufacturer\n        });\n      });\n    }\n    asyncFunc();\n    return () => {};\n  }, []);\n\n  function toolHandleChange(e) {\n    if (validateImage(process.env.imageExtensionPermitted, 10000, e.target.files[0])) {\n      const newName = parseInt(e.target.name[e.target.name.length - 1]) - 1;\n      setToolFiles({\n        ...toolFiles,\n        [e.target.name]: changeFileName(e.target.files[0], newName)\n      });\n    } else {\n      setSnackBar({\n        open: true,\n        result: 'error',\n        message: imageMessageError\n      })\n    }\n  }\n\n  function toolCleanInput(name) {\n    setToolFiles({\n      ...toolFiles,\n      [name]: null\n    });\n  }\n\n\n\n  function renderImage(name, type) {\n    let image = \"\";\n    state[type].forEach(img => {\n      const imgSplit = img.split(\"/\");\n      if (\n        parseInt(name[name.length - 1]) - 1 ==\n        imgSplit[imgSplit.length - 1][0]\n      ) {\n        image = img;\n      }\n    });\n    return image;\n  }\n\n  return (\n    <>\n      {!title ? (\n        <h1\n          className=\"main-title\"\n          style={{\n            textAlign: \"center\",\n            color: \"rgb(35,43,111)\"\n          }}\n        >\n          {state.name}\n          <FontAwesomeIcon\n            icon={faPencilAlt}\n            style={{\n              width: \"16px\",\n              position: \"absolute\",\n              borderRadius: \"10px\",\n              padding: \"3px\",\n              background: \"rgb(129, 22, 27)\",\n              color: \"white\",\n              marginLeft: \"2%\",\n              top: \"20px\",\n              cursor: \"pointer\",\n              zIndex: \"9\"\n            }}\n            onClick={() => {\n              setTitle(true);\n            }}\n          />\n        </h1>\n      ) : (\n        <Input\n          style={{ width: \"30%\", display: \"block\", margin: \"15px auto\" }}\n          placeholder=\"Nome\"\n          value={state.name}\n          onChange={e => setState({ ...state, name: e.target.value })}\n        />\n      )}\n      <Hr />\n      {!title ? (\n        <h4\n          className=\"main-title\"\n          style={{\n            textAlign: \"center\",\n            color: \"grey\"\n          }}\n        >\n          {state.description}\n          <FontAwesomeIcon\n            icon={faPencilAlt}\n            style={{\n              width: \"16px\",\n              borderRadius: \"10px\",\n              padding: \"3px\",\n              background: \"rgb(129, 22, 27)\",\n              color: \"white\",\n              marginLeft: \"2%\",\n              cursor: \"pointer\",\n              zIndex: \"9\"\n            }}\n            onClick={() => {\n              setTitle(true);\n            }}\n          />\n        </h4>\n      ) : (\n        <Input\n          style={{ width: \"30%\", display: \"block\", margin: \"15px auto\" }}\n          placeholder=\"Subtítulo\"\n          value={state.description}\n          onChange={e => setState({ ...state, description: e.target.value })}\n        />\n      )}\n\n      <div id=\"tools-images\" style={{ width: \"100%\" }}>\n        <ContainerInputFile\n          style={{\n            justifyContent: \"center\",\n            marginBottom: \"15px\",\n            flexWrap: \"wrap\"\n          }}\n        >\n          <FileInput\n            file={toolFiles.toolFile1}\n            handleChange={toolHandleChange}\n            deleteImage={() =>\n              deleteImage(\n                state.id,\n                \"tools\",\n                getNameImageFromUrl(renderImage(\"toolFile1\", \"images\")),\n                function(err) {\n                  if (err) return;\n                  location.reload();\n                }\n              )\n            }\n            cleanFileInput={toolCleanInput}\n            imageURL={renderImage(\"toolFile1\", \"images\")}\n            maxWidth=\"100%\"\n            labelWidth=\"70%\"\n            labelInputFile=\"Imagem principal\"\n            id=\"toolFile1\"\n            name=\"toolFile1\"\n          />\n        </ContainerInputFile>\n        <ContainerInputFile style={{ flexWrap: \"wrap\" }}>\n          <FileInput\n            file={toolFiles.toolFile2}\n            handleChange={toolHandleChange}\n            deleteImage={() =>\n              deleteImage(\n                state.id,\n                \"tools\",\n                getNameImageFromUrl(renderImage(\"toolFile2\", \"images\")),\n                function(err) {\n                  if (err) return;\n                  location.reload();\n                }\n              )\n            }\n            cleanFileInput={toolCleanInput}\n            imageURL={renderImage(\"toolFile2\", \"images\")}\n            labelWidth=\"200px\"\n            labelHeight=\"200px\"\n            maxWidth=\"200px\"\n            labelInputFile=\"Imagem 2\"\n            id=\"toolFile2\"\n            name=\"toolFile2\"\n          />\n\n          <FileInput\n            file={toolFiles.toolFile3}\n            handleChange={toolHandleChange}\n            deleteImage={() =>\n              deleteImage(\n                state.id,\n                \"tools\",\n                getNameImageFromUrl(renderImage(\"toolFile3\", \"images\")),\n                function(err) {\n                  if (err) return;\n                  location.reload();\n                }\n              )\n            }\n            cleanFileInput={toolCleanInput}\n            imageURL={renderImage(\"toolFile3\", \"images\")}\n            labelWidth=\"200px\"\n            labelHeight=\"200px\"\n            maxWidth=\"200px\"\n            labelInputFile=\"Imagem 3\"\n            id=\"toolFile3\"\n            name=\"toolFile3\"\n          />\n\n          <FileInput\n            file={toolFiles.toolFile4}\n            handleChange={toolHandleChange}\n            deleteImage={() =>\n              deleteImage(\n                state.id,\n                \"tools\",\n                getNameImageFromUrl(renderImage(\"toolFile4\", \"images\")),\n                function(err) {\n                  if (err) return;\n                  location.reload();\n                }\n              )\n            }\n            cleanFileInput={toolCleanInput}\n            imageURL={renderImage(\"toolFile4\", \"images\")}\n            labelWidth=\"200px\"\n            labelHeight=\"200px\"\n            maxWidth=\"200px\"\n            labelInputFile=\"Imagem 4\"\n            id=\"toolFile4\"\n            name=\"toolFile4\"\n          />\n\n          <FileInput\n            file={toolFiles.toolFile5}\n            handleChange={toolHandleChange}\n            deleteImage={() =>\n              deleteImage(\n                state.id,\n                \"tools\",\n                getNameImageFromUrl(renderImage(\"toolFile5\", \"images\")),\n                function(err) {\n                  if (err) return;\n                  location.reload();\n                }\n              )\n            }\n            cleanFileInput={toolCleanInput}\n            imageURL={renderImage(\"toolFile5\", \"images\")}\n            labelWidth=\"200px\"\n            labelHeight=\"200px\"\n            maxWidth=\"200px\"\n            labelInputFile=\"Imagem 5\"\n            id=\"toolFile5\"\n            name=\"toolFile5\"\n          />\n        </ContainerInputFile>\n      </div>\n\n      <Section>\n        <h3\n          className=\"main-title\"\n          style={{\n            textAlign: \"center\",\n            color: \"rgb(129, 22, 27)\"\n          }}\n        >\n          Características\n        </h3>\n        <Hr />\n        <div style={{ width: \"50%\", display: \"block\", margin: \"auto\" }}>\n          <TextArea\n            value={state.mainFeatures}\n            onChange={e => setState({ ...state, mainFeatures: e.target.value })}\n            rows=\"5\"\n          >\n            {state.mainFeatures}\n          </TextArea>\n        </div>\n      </Section>\n      <Section>\n        <h3\n          className=\"main-title\"\n          style={{\n            textAlign: \"center\",\n            color: \"rgb(129, 22, 27)\"\n          }}\n        >\n          Fabricante\n        </h3>\n        <Hr />\n        <div style={{ width: \"50%\", display: \"block\", margin: \"auto\" }}>\n          <Select\n            value={state.manufacturer}\n            onChange={e => setState({ ...state, manufacturer: e.target.value })}\n          >\n            <option value=\"\">Escolha um fabricante</option>\n            {manufacturers.manufacturers.map(manu => (\n              <option\n                selected={state.manufacturer == manu.id ? manu.id : false}\n                value={manu.id}\n              >\n                {manu.name}\n              </option>\n            ))}\n          </Select>\n        </div>\n      </Section>\n      <Section>\n        {visible ? (\n          <div\n            style={{\n              display: \"flex\",\n              margin: \"15px auto\",\n              width: \"100%\",\n              justifyContent: \"center\"\n            }}\n          >\n            <Message result={result} message={message} color={color} />{\" \"}\n          </div>\n        ) : null}\n\n        <Button\n          style={{ width: \"50%\", margin: \"auto\", display: \"block\" }}\n          onClick={() =>\n            updateTool(\n              state,\n              toolFiles,\n              function(err, res) {\n                if (err) {\n                  setSnackBar({\n                    result: \"error\",\n                    open: true,\n                    message: err\n                  });\n                  return;\n                }\n                setSnackBar({\n                  result: \"success\",\n                  open: true,\n                  message: \"Peça alterada com sucesso\"\n                });\n                setTimeout(() => {\n                  location.reload();\n                }, 2000);\n              }\n            )\n          }\n        >\n          Salvar\n        </Button>\n        <Button\n          style={{ width: \"50%\", margin: \"15px auto\", display: \"block\" }}\n          onClick={() =>\n            deleteTool(state.id, function(err, response) {\n              if (err) {\n                setSnackBar({\n                  result: \"error\",\n                  message: err,\n                  open: true\n                });\n                return;\n              }\n              setSnackBar({\n                result: \"success\",\n                message: \"Peça excluída com sucesso\",\n                open: true\n              });\n              setTimeout(() => {\n                Router.pushRoute(\"/admin/tools\");\n              }, 2000);\n            })\n          }\n        >\n          Excluir máquina\n        </Button>\n        <Snackbar\n          open={snackBar.open}\n          autoHideDuration={1500}\n          onClose={handleClose}\n        >\n          <Alert severity={snackBar.result}>{snackBar.message}</Alert>\n        </Snackbar>\n      </Section>\n    </>\n  );\n}\n\nexport const Section = styled.div`\n  margin: 10% 0;\n`;\n\nexport const MainImg = styled.img`\n  width: 50%;\n  margin: 10px auto;\n  display: block;\n  cursor: pointer;\n`;\n\nexport const SecondaryImages = styled.img`\n  max-width: 25%;\n  margin-right: 5px;\n  cursor: pointer;\n  :hover {\n    box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n  }\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n`;\n\nexport const PrefImage = styled.img`\n  width: 49%;\n  margin-right: 5px;\n  margin-bottom: 5px;\n  cursor: pointer;\n  :hover {\n    box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n  }\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n`;\n\nexport const MainFeaturesText = styled.p``;\n\nexport const InputGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: ${props => (props.width ? props.width : \"100%\")};\n`;\n\nexport const ContainerInputFile = styled.div`\n  img {\n    width: 100%;\n    margin: 10px auto;\n    display: block;\n    cursor: pointer;\n  }\n  display: flex;\n  justify-content: center;\n`;\n"]},"metadata":{},"sourceType":"module"}