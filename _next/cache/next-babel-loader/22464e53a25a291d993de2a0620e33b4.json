{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport Template from '../../src/components/templates/Admin';\nimport { Container, Hr, Button, Input } from '../../src/static/styled-components/base';\nimport Sidebar from '../../src/components/admin/Sidebar';\nimport { getTools } from '../../src/utils/tools';\nimport { Router } from '../../routes';\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nexport default function Tools() {\n  var _useState = useState([]),\n      tools = _useState[0],\n      setTools = _useState[1];\n\n  var _useState2 = useState(''),\n      search = _useState2[0],\n      setSearch = _useState2[1];\n\n  useEffect(function () {\n    function async() {\n      return _regeneratorRuntime.async(function async$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              getTools(function (err, r) {\n                if (err) {\n                  setSnackBar({\n                    open: true,\n                    result: 'error',\n                    message: err\n                  });\n                  setTools([]);\n                  return;\n                }\n\n                setTools(r);\n              }, {\n                search: search\n              });\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n\n    async();\n  }, [search]);\n\n  function handleChange(e) {\n    setSearch(e.target.value);\n  }\n\n  function handleClose() {\n    setSnackBar(_objectSpread({}, snackBar, {\n      open: false\n    }));\n  }\n\n  var _useState3 = useState({\n    result: \"success\",\n    open: false,\n    message: \"\"\n  }),\n      snackBar = _useState3[0],\n      setSnackBar = _useState3[1];\n\n  return __jsx(Template, null, __jsx(Sidebar, null), __jsx(Container, null, __jsx(Snackbar, {\n    open: snackBar.open,\n    autoHideDuration: 3500,\n    onClose: handleClose\n  }, __jsx(Alert, {\n    severity: snackBar.result\n  }, snackBar.message)), __jsx(\"h1\", {\n    className: \"main-title\",\n    style: {\n      textAlign: \"center\",\n      color: \"rgb(35,43,111)\"\n    }\n  }, \"Pe\\xE7as\"), __jsx(Hr, null), __jsx(Column, null, __jsx(Button, {\n    onClick: function onClick() {\n      return Router.pushRoute('/admin/add-tool');\n    }\n  }, \"Adicionar nova pe\\xE7a\"), __jsx(Input, {\n    placeholder: \"Pesquise pelo nome\",\n    name: \"search\",\n    id: \"search\",\n    value: search,\n    onChange: handleChange\n  })), __jsx(Row, null, tools.map(function (tool) {\n    return __jsx(CardContainer, {\n      onClick: function onClick() {\n        return Router.pushRoute(\"/admin/tools?id=\" + tool.id);\n      }\n    }, __jsx(Row, {\n      style: {\n        padding: 0\n      }\n    }, __jsx(\"div\", {\n      style: {\n        flex: 1,\n        position: \"relative\",\n        display: \"flex\",\n        alignItems: \"center\",\n        background: \"lightgrey\"\n      }\n    }, tool.images.length > 0 ? __jsx(Image, {\n      style: {\n        position: \"relative\"\n      },\n      width: \"100%\",\n      height: \"100%\",\n      src: tool.images[0]\n    }) : __jsx(\"p\", {\n      style: {\n        fontSize: \".8rem\",\n        textAlign: \"center\"\n      }\n    }, \"Nenhuma imagem enviada\")), __jsx(Column, {\n      style: {\n        flex: 1,\n        justifyContent: \"flex-start\"\n      }\n    }, __jsx(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        marginBottom: \"15px\"\n      }\n    }, __jsx(\"span\", null, tool.name)), __jsx(\"span\", {\n      style: {\n        fontSize: '.8rem',\n        color: 'grey'\n      }\n    }, tool.description))));\n  }))));\n}\nvar Row = styled.div.withConfig({\n  displayName: \"tools__Row\",\n  componentId: \"sc-1nz565m-0\"\n})([\"display:flex;flex:1;flex-direction:row;justify-content:center;padding:15px;\"]);\nvar Column = styled.div.withConfig({\n  displayName: \"tools__Column\",\n  componentId: \"sc-1nz565m-1\"\n})([\"display:flex;flex:1;flex-direction:column;justify-content:center;padding:15px;\"]);\nvar Image = styled.div.withConfig({\n  displayName: \"tools__Image\",\n  componentId: \"sc-1nz565m-2\"\n})([\"display:flex;align-items:center;justify-content:center;background-image:url('\", \"');background-size:cover;background-position:center;background-repeat:no-repeat;width:\", \";height:\", \";transition:0.4s;position:relative;cursor:pointer;p{opacity:0;transition:.2s;text-align:center;}:hover{opacity:.8;p{opacity:1;color:black;background:white;padding:5px;}}\"], function (props) {\n  return props.src;\n}, function (props) {\n  return props.width;\n}, function (props) {\n  return props.height;\n});\nvar CardContainer = styled.div.withConfig({\n  displayName: \"tools__CardContainer\",\n  componentId: \"sc-1nz565m-3\"\n})([\"flex:1;min-width:250px;max-height:300px;height:250px;overflow:hidden;cursor:pointer;display:flex;flex-direction:column;flex-wrap:no-wrap;margin-bottom:10px;margin-right:10px;img{width:100%;max-width:230px;display:block;margin:auto}:hover{box-shadow:0 14px 28px rgba(0,0,0,0.25),0 10px 10px rgba(0,0,0,0.22);}box-shadow:0 3px 6px rgba(0,0,0,0.16),0 3px 6px rgba(0,0,0,0.23);}\"]);","map":{"version":3,"sources":["C:/Users/Gluz/Projects/web/multcostura/multcostura-web/pages/admin/tools.js"],"names":["React","useState","useEffect","styled","Template","Container","Hr","Button","Input","Sidebar","getTools","Router","Snackbar","Alert","Tools","tools","setTools","search","setSearch","async","err","r","setSnackBar","open","result","message","handleChange","e","target","value","handleClose","snackBar","textAlign","color","pushRoute","map","tool","id","padding","flex","position","display","alignItems","background","images","length","fontSize","justifyContent","flexDirection","marginBottom","name","description","Row","div","Column","Image","props","src","width","height","CardContainer"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,QAAP,MAAqB,sCAArB;AACA,SAASC,SAAT,EAAoBC,EAApB,EAAwBC,MAAxB,EAAgCC,KAAhC,QAA6C,yCAA7C;AACA,OAAOC,OAAP,MAAoB,oCAApB;AACA,SAASC,QAAT,QAAyB,uBAAzB;AACA,SAASC,MAAT,QAAuB,cAAvB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AAEA,eAAe,SAASC,KAAT,GAAkB;AAAA,kBACNb,QAAQ,CAAC,EAAD,CADF;AAAA,MACzBc,KADyB;AAAA,MAClBC,QADkB;;AAAA,mBAEJf,QAAQ,CAAC,EAAD,CAFJ;AAAA,MAEzBgB,MAFyB;AAAA,MAEjBC,SAFiB;;AAIhChB,EAAAA,SAAS,CAAC,YAAM;AACf,aAAeiB,KAAf;AAAA;AAAA;AAAA;AAAA;AACCT,cAAAA,QAAQ,CAAC,UAASU,GAAT,EAAcC,CAAd,EAAiB;AACzB,oBAAID,GAAJ,EAAS;AACRE,kBAAAA,WAAW,CAAC;AACXC,oBAAAA,IAAI,EAAE,IADK;AAEXC,oBAAAA,MAAM,EAAE,OAFG;AAGXC,oBAAAA,OAAO,EAAEL;AAHE,mBAAD,CAAX;AAKAJ,kBAAAA,QAAQ,CAAC,EAAD,CAAR;AACA;AACA;;AAEDA,gBAAAA,QAAQ,CAACK,CAAD,CAAR;AACA,eAZO,EAYL;AAAEJ,gBAAAA,MAAM,EAANA;AAAF,eAZK,CAAR;;AADD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAgBAE,IAAAA,KAAK;AACL,GAlBQ,EAkBN,CAACF,MAAD,CAlBM,CAAT;;AAqBA,WAASS,YAAT,CAAuBC,CAAvB,EAA0B;AACzBT,IAAAA,SAAS,CAACS,CAAC,CAACC,MAAF,CAASC,KAAV,CAAT;AACA;;AAED,WAASC,WAAT,GAAuB;AACtBR,IAAAA,WAAW,mBACPS,QADO;AAEVR,MAAAA,IAAI,EAAE;AAFI,OAAX;AAIA;;AAlC+B,mBAoCAtB,QAAQ,CAAC;AACrCuB,IAAAA,MAAM,EAAE,SAD6B;AAErCD,IAAAA,IAAI,EAAE,KAF+B;AAGrCE,IAAAA,OAAO,EAAE;AAH4B,GAAD,CApCR;AAAA,MAoCzBM,QApCyB;AAAA,MAoCfT,WApCe;;AA0ChC,SAAO,MAAC,QAAD,QACN,MAAC,OAAD,OADM,EAEN,MAAC,SAAD,QACA,MAAC,QAAD;AACQ,IAAA,IAAI,EAAES,QAAQ,CAACR,IADvB;AAEQ,IAAA,gBAAgB,EAAE,IAF1B;AAGQ,IAAA,OAAO,EAAEO;AAHjB,KAKQ,MAAC,KAAD;AAAO,IAAA,QAAQ,EAAEC,QAAQ,CAACP;AAA1B,KAAmCO,QAAQ,CAACN,OAA5C,CALR,CADA,EAQC;AACQ,IAAA,SAAS,EAAC,YADlB;AAEQ,IAAA,KAAK,EAAE;AACLO,MAAAA,SAAS,EAAE,QADN;AAELC,MAAAA,KAAK,EAAE;AAFF;AAFf,gBARD,EAiBO,MAAC,EAAD,OAjBP,EAkBO,MAAC,MAAD,QACC,MAAC,MAAD;AAAQ,IAAA,OAAO,EAAE;AAAA,aAAMtB,MAAM,CAACuB,SAAP,CAAiB,iBAAjB,CAAN;AAAA;AAAjB,8BADD,EAEC,MAAC,KAAD;AAAO,IAAA,WAAW,EAAC,oBAAnB;AAAwC,IAAA,IAAI,EAAC,QAA7C;AAAsD,IAAA,EAAE,EAAC,QAAzD;AAAkE,IAAA,KAAK,EAAEjB,MAAzE;AAAiF,IAAA,QAAQ,EAAES;AAA3F,IAFD,CAlBP,EAsBO,MAAC,GAAD,QACEX,KAAK,CAACoB,GAAN,CAAU,UAAAC,IAAI;AAAA,WACZ,MAAC,aAAD;AACE,MAAA,OAAO,EAAE;AAAA,eACPzB,MAAM,CAACuB,SAAP,CAAiB,qBAAqBE,IAAI,CAACC,EAA3C,CADO;AAAA;AADX,OAKE,MAAC,GAAD;AAAK,MAAA,KAAK,EAAE;AAAEC,QAAAA,OAAO,EAAE;AAAX;AAAZ,OACE;AAAK,MAAA,KAAK,EAAE;AAAEC,QAAAA,IAAI,EAAE,CAAR;AAAWC,QAAAA,QAAQ,EAAE,UAArB;AAAiCC,QAAAA,OAAO,EAAE,MAA1C;AAAkDC,QAAAA,UAAU,EAAE,QAA9D;AAAwEC,QAAAA,UAAU,EAAE;AAApF;AAAZ,OACGP,IAAI,CAACQ,MAAL,CAAYC,MAAZ,GAAqB,CAArB,GAAyB,MAAC,KAAD;AAAO,MAAA,KAAK,EAAE;AAAEL,QAAAA,QAAQ,EAAE;AAAZ,OAAd;AAAwC,MAAA,KAAK,EAAC,MAA9C;AAAqD,MAAA,MAAM,EAAC,MAA5D;AAAmE,MAAA,GAAG,EAAEJ,IAAI,CAACQ,MAAL,CAAY,CAAZ;AAAxE,MAAzB,GAAsH;AAAG,MAAA,KAAK,EAAE;AAACE,QAAAA,QAAQ,EAAE,OAAX;AAAoBd,QAAAA,SAAS,EAAE;AAA/B;AAAV,gCADzH,CADF,EAIE,MAAC,MAAD;AAAQ,MAAA,KAAK,EAAE;AAAEO,QAAAA,IAAI,EAAE,CAAR;AAAWQ,QAAAA,cAAc,EAAE;AAA3B;AAAf,OACE;AAAK,MAAA,KAAK,EAAE;AAAEN,QAAAA,OAAO,EAAE,MAAX;AAAmBO,QAAAA,aAAa,EAAE,QAAlC;AAA4CC,QAAAA,YAAY,EAAE;AAA1D;AAAZ,OACE,oBAAOb,IAAI,CAACc,IAAZ,CADF,CADF,EAKE;AAAM,MAAA,KAAK,EAAE;AAAEJ,QAAAA,QAAQ,EAAE,OAAZ;AAAqBb,QAAAA,KAAK,EAAE;AAA5B;AAAb,OAAoDG,IAAI,CAACe,WAAzD,CALF,CAJF,CALF,CADY;AAAA,GAAd,CADF,CAtBP,CAFM,CAAP;AAgDA;AAID,IAAMC,GAAG,GAAGjD,MAAM,CAACkD,GAAV;AAAA;AAAA;AAAA,mFAAT;AAQA,IAAMC,MAAM,GAAGnD,MAAM,CAACkD,GAAV;AAAA;AAAA;AAAA,sFAAZ;AAQA,IAAME,KAAK,GAAGpD,MAAM,CAACkD,GAAV;AAAA;AAAA;AAAA,yWAIkB,UAAAG,KAAK;AAAA,SAAIA,KAAK,CAACC,GAAV;AAAA,CAJvB,EAQE,UAAAD,KAAK;AAAA,SAAIA,KAAK,CAACE,KAAV;AAAA,CARP,EASG,UAAAF,KAAK;AAAA,SAAIA,KAAK,CAACG,MAAV;AAAA,CATR,CAAX;AA6BA,IAAMC,aAAa,GAAGzD,MAAM,CAACkD,GAAV;AAAA;AAAA;AAAA,8XAAnB","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport Template from '../../src/components/templates/Admin'\r\nimport { Container, Hr, Button, Input } from '../../src/static/styled-components/base'\r\nimport Sidebar from '../../src/components/admin/Sidebar'\r\nimport { getTools } from '../../src/utils/tools'\r\nimport { Router } from '../../routes'\r\nimport Snackbar from \"@material-ui/core/Snackbar\"\r\nimport Alert from \"@material-ui/lab/Alert\"\r\n\r\nexport default function Tools () {\r\n\tconst [tools, setTools] = useState([])\r\n\tconst [search, setSearch] = useState('')\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function async() {\r\n\t\t\tgetTools(function(err, r) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\tsetSnackBar({\r\n\t\t\t\t\t\topen: true,\r\n\t\t\t\t\t\tresult: 'error',\r\n\t\t\t\t\t\tmessage: err\r\n\t\t\t\t\t})\r\n\t\t\t\t\tsetTools([])\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetTools(r)\r\n\t\t\t}, { search })\r\n\t\t}\r\n\r\n\t\tasync();\r\n\t}, [search])\r\n\r\n\r\n\tfunction handleChange (e) {\r\n\t\tsetSearch(e.target.value)\r\n\t}\r\n\r\n\tfunction handleClose() {\r\n\t\tsetSnackBar({\r\n\t\t\t...snackBar,\r\n\t\t\topen: false\r\n\t\t})\r\n\t}\r\n\r\n\tconst [snackBar, setSnackBar] = useState({\r\n    \tresult: \"success\",\r\n    \topen: false,\r\n    \tmessage: \"\"\r\n  \t});\r\n\r\n\treturn <Template >\r\n\t\t<Sidebar />\r\n\t\t<Container>\r\n\t\t<Snackbar\r\n          open={snackBar.open}\r\n          autoHideDuration={3500}\r\n          onClose={handleClose}\r\n        >\r\n          <Alert severity={snackBar.result}>{snackBar.message}</Alert>\r\n        </Snackbar>\r\n\t\t\t<h1\r\n\t          className=\"main-title\"\r\n\t          style={{\r\n\t            textAlign: \"center\",\r\n\t            color: \"rgb(35,43,111)\"\r\n\t          }}\r\n\t        >\r\n\t          Peças \r\n\t        </h1>\r\n\t        <Hr />\r\n\t        <Column>\r\n\t        \t<Button onClick={() => Router.pushRoute('/admin/add-tool')}>Adicionar nova peça</Button>\r\n\t       \t\t<Input placeholder=\"Pesquise pelo nome\" name=\"search\" id=\"search\" value={search} onChange={handleChange} />\r\n\t       \t</Column>\r\n\t       \t<Row>\r\n\t\t       \t{tools.map(tool => (\r\n\t            <CardContainer\r\n\t              onClick={() =>\r\n\t                Router.pushRoute(\"/admin/tools?id=\" + tool.id)\r\n\t              }\r\n\t            >\r\n\t              <Row style={{ padding: 0 }}>\r\n\t                <div style={{ flex: 1, position: \"relative\", display: \"flex\", alignItems: \"center\", background: \"lightgrey\" }}>\r\n\t                  {tool.images.length > 0 ? <Image style={{ position: \"relative\" }} width=\"100%\" height=\"100%\" src={tool.images[0]} /> : <p style={{fontSize: \".8rem\", textAlign: \"center\"}}>Nenhuma imagem enviada</p>}\r\n\t                </div>                  \r\n\t                <Column style={{ flex: 1, justifyContent: \"flex-start\" }}>\r\n\t                  <div style={{ display: \"flex\", flexDirection: \"column\", marginBottom: \"15px\"}}>\r\n\t                    <span>{tool.name}</span>\r\n\t                  </div>\r\n\r\n\t                  <span style={{ fontSize: '.8rem', color: 'grey' }}>{tool.description}</span>                  \r\n\t                </Column>\r\n\t              </Row>\r\n\t            </CardContainer>\r\n\t          \t))}\r\n\t       \t</Row>\r\n\t\t</Container>\r\n\t</Template>\r\n}\r\n\r\n\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  padding: 15px;\r\n`;\r\n\r\nconst Column = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  padding: 15px;\r\n`;\r\n\r\nconst Image = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    background-image: url('${props => props.src}');\r\n    background-size: cover;\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n    width: ${props => props.width};\r\n    height: ${props => props.height};\r\n    transition: 0.4s;\r\n    position: relative;\r\n    cursor: pointer;\r\n    p {\r\n      opacity: 0;\r\n      transition: .2s;\r\n      text-align: center;\r\n    }\r\n    :hover {\r\n      opacity: .8;\r\n      p {\r\n        opacity: 1;\r\n        color: black;\r\n        background: white;\r\n        padding: 5px;\r\n      }\r\n    }\r\n`;\r\n\r\nconst CardContainer = styled.div`\r\n\tflex: 1;\r\n  min-width: 250px;\r\n\tmax-height: 300px;\r\n  height: 250px;\r\n\toverflow: hidden;\r\n\tcursor: pointer;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tflex-wrap: no-wrap;\r\n\tmargin-bottom: 10px;\r\n\tmargin-right: 10px;\r\n\timg {\r\n\t\twidth: 100%;\r\n\t\tmax-width: 230px;\r\n\t\tdisplay: block;\r\n\t\tmargin: auto\r\n\t}\r\n\t:hover {\r\n\t\tbox-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n\t}\r\n\tbox-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\r\n\r\n}\r\n`;\r\n"]},"metadata":{},"sourceType":"module"}