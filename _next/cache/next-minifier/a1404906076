{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{VBqF:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin/reseller\",function(){return n(\"julQ\")}])},czBc:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l}));var r=n(\"rePB\"),o=n(\"zyFE\");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=Object(o.createActions)({loadResellers:[\"resellers\"]}),i=c.Types,l=c.Creators,u={resellers:[]};t.b=Object(o.createReducer)(u,Object(r.a)({},i.LOAD_RESELLERS,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;return s({},e,{resellers:t.resellers})})))},julQ:function(e,t,n){\"use strict\";n.r(t);var r=n(\"q1tI\"),o=n.n(r),a=n(\"AnT9\"),s=n(\"IQ0W\"),c=n(\"zHLA\"),i=n(\"rePB\"),l=n(\"o0o1\"),u=n.n(l),d=n(\"vOnD\"),p=n(\"/MKj\"),f=n(\"czBc\"),g=n(\"dlDv\"),b=n(\"1yJj\");function m(e){Object(b.a)().get(\"/reseller\").then((function(t){e(null,t.data)})).catch((function(t){e(t)}))}var h=n(\"FYGO\"),v=n(\"r9w1\"),y=n(\"kfFl\"),O=n(\"+JwS\"),j=n(\"EQI2\"),x=n(\"yv+Y\"),w=o.a.createElement;function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(){var e=Object(p.c)((function(e){return e.Utils})),t=e.message,n=e.messageType,a=e.messageColor,c=Object(p.c)((function(e){return e.Reseller})).resellers,i=Object(r.useState)(!1),l=i[0],d=i[1],S=Object(r.useState)(!1),E=S[0],T=S[1],D=Object(r.useState)({address:{}}),L=D[0],N=D[1],I=Object(p.b)(),B=Object(r.useState)(\"\"),_=(B[0],B[1],Object(r.useState)([])),M=_[0],F=_[1],q=Object(r.useState)(!1),A=q[0],H=q[1];function z(){T(!1),N({address:{}})}Object(r.useEffect)((function(){!function(){var e,t,n,r;u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,u.a.awrap(Object(b.a)().get(\"http://dev.virtualearth.net/REST/v1/Autosuggest?query=\".concat(L.address,\"&maxResults=5&key=ArBcF40dX4IT5Co3SIxT7TfvEqq3VNdafH09G2lYGLmm1PvaaFwU-xHaQLjtmpDe\")));case 2:for(r in e=o.sent,t=e.data.resourceSets[0].resources[0].value,n=[],e.data.resourceSets[0].resources[0].value)n.push(t[r].address.formattedAddress);F(n);case 7:case\"end\":return o.stop()}}),null,null,null,Promise)}()}),[L.address]),Object(r.useEffect)((function(){m((function(e,t){if(e)return I(g.a.changeMessage()),I(g.a.changeMessageType(!1)),void I(g.a.changeMessageColor(\"red\"));I(f.a.loadResellers(t))}))}),[]);var G=function(e){timeout=setTimeout((function(){H(!1)}),100)};function Q(e){var t,n,r;t=e.id,n=C({},e),r=function(e,t){if(e)return I(g.a.changeMessage(e)),I(g.a.changeMessageType(!1)),I(g.a.changeMessageColor(\"red\")),d(!0),void z();m((function(e,t){if(e)return I(g.a.changeMessage(e)),I(g.a.changeMessageType(!1)),void I(g.a.changeMessageColor(\"red\"));I(f.a.loadResellers(t))})),I(g.a.changeMessage(\"Editado com sucesso\")),I(g.a.changeMessageType(!0)),I(g.a.changeMessageColor(\"green\")),z(),d(!0)},Object(b.a)().put(\"/reseller/\".concat(t),n).then((function(e){r(null,e.data)})).catch((function(e){r(e.response?e.response.data:e.toString())}))}function X(e){!function(e,t){Object(b.a)().delete(\"/reseller/\".concat(e)).then((function(e){t(null,e.data)})).catch((function(e){t(e.response?e.response.data:e.toString())}))}(e,(function(e,t){if(e)return I(g.a.changeMessage(e)),I(g.a.changeMessageType(!1)),I(g.a.changeMessageColor(\"red\")),void d(!0);m((function(e,t){I(f.a.loadResellers(t))})),I(g.a.changeMessage(\"Deletado com sucesso\")),I(g.a.changeMessageType(!0)),I(g.a.changeMessageColor(\"green\")),d(!0)}))}return Object(r.useEffect)((function(){var e=document.getElementById(\"searchBox\");return e.addEventListener(\"focusout\",G),function(){clearTimeout(null),e.removeEventListener(\"focusout\",G)}}),[]),w(o.a.Fragment,null,w(\"h3\",{className:\"main-title\",style:{color:\"rgb(129, 22, 27)\"}},\"Lista de fabricantes\"),w(\"div\",null,w(y.a,{open:E,onClose:z,\"aria-labelledby\":\"form-dialog-title\"},w(x.a,{id:\"form-dialog-title\"},\"Editar Revendedor\"),w(j.a,null,w(v.a,{autoFocus:!0,margin:\"dense\",id:\"name\",label:\"Nome\",type:\"text\",value:L.name,onChange:function(e){return N(C({},L,{name:e.target.value}))},fullWidth:!0}),w(v.a,{autoFocus:!0,margin:\"dense\",id:\"phone\",label:\"Telefone\",type:\"text\",value:L.phone,onChange:function(e){return N(C({},L,{phone:e.target.value}))},fullWidth:!0}),w(v.a,{autoFocus:!0,margin:\"dense\",id:\"email\",label:\"E-mail\",type:\"text\",value:L.email,onChange:function(e){return N(C({},L,{email:e.target.value}))},fullWidth:!0}),w(s.b,{style:{position:\"relative\",minHeight:\"300px\"}},w(\"div\",{id:\"printoutPanel\"}),w(\"div\",{id:\"searchBoxContainer\"},w(v.a,{autoFocus:!0,onFocus:function(){return H(!0)},className:\"form-control\",type:\"text\",autoComplete:\"new-password\",placeholder:\"Digite o endere\\xe7o\",id:\"searchBox\",value:L.address,onChange:function(e){return N(C({},L,{address:e.target.value}))}})),A?w(s.b,{onMouseEnter:function(){return H(!0)},style:{background:\"white\",boxShadow:\"1px 1px 3px grey\",borderRadius:\"5px\",padding:\"10px\",position:\"absolute\",top:\"50px\",width:\"80%\",zIndex:\"9\"}},M.length>0?M.map((function(e,t){return w(R,{key:t,onClick:function(){N(C({},L,{address:e})),console.log(e)},style:{borderBottom:\"1px solid grey\"}},e)})):w(R,null,\"Nenhuma sugest\\xe3o encontrada\")):\"\")),w(O.a,null,w(s.a,{onClick:z,color:\"primary\"},\"Cancelar\"),w(s.a,{onClick:function(){return Q(L)},color:\"primary\"},\"Salvar\")))),w(P,null,c.map((function(e,t){return w(k,{flexDirection:\"row\",justifyContent:\"space-between\",style:{borderBottom:\"1px solid lightgrey\"},key:t},w(k,{flexDirection:\"column\",style:{display:\"flex\",justifyContent:\"column\"}},w(\"p\",{style:{fontWeight:\"200\"}},\"Nome: \",e.name),w(\"p\",{style:{fontWeight:\"200\"}},\"Endere\\xe7o: \",e.address)),w(k,{flexDirection:\"column\",style:{marginRight:\"10px\",marginLeft:\"10px\"}},w(s.a,{onClick:function(){return function(e){N(e),T(!0)}(e)}},\"Editar Revendedor\"),w(s.a,{onClick:function(){return X(e.id)}},\"Apagar Revendedor\")))}))),l?w(h.a,{result:n,color:a,message:t}):\"\")}d.b.hr.withConfig({displayName:\"ListResellers__Hr\",componentId:\"xqh3vc-0\"})([\"width:50%;\"]),d.b.div.withConfig({displayName:\"ListResellers__Subcontainer\",componentId:\"xqh3vc-1\"})([\"padding:0 15px;\"]),d.b.div.withConfig({displayName:\"ListResellers__ImageContainer\",componentId:\"xqh3vc-2\"})([\"img{max-width:220px;display:block;margin:10px auto;}\"]);var P=d.b.div.withConfig({displayName:\"ListResellers__DivListCategories\",componentId:\"xqh3vc-3\"})([\"max-height:350px;overflow:auto;::-webkit-scrollbar{width:10px;}::-webkit-scrollbar-track{background:#f1f1f1;}::-webkit-scrollbar-thumb{background:rgb(129,22,27);}::-webkit-scrollbar-thumb:hover{background:#555;}\"]),k=d.b.div.withConfig({displayName:\"ListResellers__ResellerContainer\",componentId:\"xqh3vc-4\"})([\"display:flex;flex-direction:\",\";justify-content:\",\";\"],(function(e){return e.flexDirection}),(function(e){return e.justifyContent})),R=d.b.p.withConfig({displayName:\"ListResellers__Item\",componentId:\"xqh3vc-5\"})([\"font-size:1rem;cursor:pointer;transition:.4s;:hover{opacity:.9;color:#81161B;}z-index:9;margin:0;padding:12px 0;:last-child{border-bottom:none !important;}\"]),T=n(\"8Kt/\"),D=n.n(T),L=n(\"82Mt\"),N=n.n(L),I=n(\"79Xs\"),B=n(\"ZiQX\"),_=o.a.createElement;function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var F=function(){var e=Object(r.useState)(\"\"),t=e[0],n=e[1],a=Object(r.useState)(\"\"),c=a[0],l=a[1],d=Object(r.useState)(\"\"),g=d[0],v=d[1],y=Object(r.useState)(\"\"),O=(y[0],y[1],Object(r.useState)(\"\")),j=(O[0],O[1],Object(r.useState)(\"\")),x=(j[0],j[1],Object(r.useState)(\"\")),w=(x[0],x[1],Object(r.useState)(\"\")),S=(w[0],w[1],Object(r.useState)(\"\")),C=(S[0],S[1],Object(r.useState)(!1)),E=C[0],P=C[1],k=Object(r.useState)(\"\"),R=k[0],T=k[1],L=Object(r.useState)(!1),F=L[0],H=L[1],z=Object(r.useState)(\"red\"),G=z[0],Q=z[1],X=Object(r.useState)([]),V=X[0],W=X[1],Y=Object(r.useState)(!1),K=Y[0],U=Y[1],J=Object(r.useState)(\"\"),Z=J[0],$=J[1],ee=Object(r.useState)({result:\"success\",open:!1,message:\"\"}),te=ee[0],ne=ee[1],re=Object(p.b)();Object(r.useEffect)((function(){!function(){var e,t,n,r;u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,u.a.awrap(Object(b.a)().get(\"http://dev.virtualearth.net/REST/v1/Autosuggest?query=\".concat(Z,\"&maxResults=5&key=ArBcF40dX4IT5Co3SIxT7TfvEqq3VNdafH09G2lYGLmm1PvaaFwU-xHaQLjtmpDe\")));case 2:for(r in e=o.sent,t=e.data.resourceSets[0].resources[0].value,n=[],e.data.resourceSets[0].resources[0].value)n.push(t[r].address.formattedAddress);W(n);case 7:case\"end\":return o.stop()}}),null,null,null,Promise)}()}),[Z]);var oe=function(e){timeout=setTimeout((function(){U(!1)}),100)};function ae(e){var t;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.awrap(Object(b.a)().get(\"http://dev.virtualearth.net/REST/v1/Locations?addressLine=\".concat(e,\"&maxResults=1&key=\").concat(\"ArBcF40dX4IT5Co3SIxT7TfvEqq3VNdafH09G2lYGLmm1PvaaFwU-xHaQLjtmpDe\")));case 2:if(0==(t=n.sent).data.resourceSets[0].estimatedTotal){n.next=7;break}return n.abrupt(\"return\",t.data.resourceSets[0].resources[0].geocodePoints);case 7:return ne({open:!0,message:\"N\\xe3o poss\\xedvel encontrar este endere\\xe7o no mapa\",result:\"error\"}),n.abrupt(\"return\",!1);case 9:case\"end\":return n.stop()}}),null,null,null,Promise)}return Object(r.useEffect)((function(){var e=document.getElementById(\"searchBox\");return e.addEventListener(\"focusout\",oe),function(){clearTimeout(null),e.removeEventListener(\"focusout\",oe)}}),[]),_(o.a.Fragment,null,_(D.a,null,_(\"script\",{type:\"text/javascript\",src:\"ArBcF40dX4IT5Co3SIxT7TfvEqq3VNdafH09G2lYGLmm1PvaaFwU-xHaQLjtmpDe\",async:!0,defer:!0})),_(I.a,{open:te.open,autoHideDuration:3500,onClose:function(){ne(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},te,{open:!1}))}},_(B.a,{severity:te.result},te.message)),_(\"h3\",{className:\"main-title\",style:{color:\"rgb(129, 22, 27)\"}},\"Adicionar novo revendedor\"),_(\"div\",null,_(A,null,_(s.e,{placeholder:\"Nome\",onChange:function(e){return n(e.target.value)},value:t,onKeyDown:ce,style:{flex:2,marginRight:\"5px\"}}),_(s.e,{placeholder:\"Email\",onChange:function(e){return l(e.target.value)},value:c,style:{flex:2,marginRight:\"5px\"},onKeyDown:ce}),_(N.a,{style:{flex:1},placeholder:\"Telefone\",onChange:function(e){return v(e.target.value)},value:g,mask:\"+99 99 99999-9999\",maskChar:\" \",className:\"form-control\",onKeyDown:ce})),_(s.b,{style:{position:\"relative\"}},_(\"div\",{id:\"printoutPanel\"}),_(\"div\",{id:\"searchBoxContainer\"},_(\"input\",{onFocus:function(){return U(!0)},className:\"form-control\",type:\"text\",autoComplete:\"new-password\",placeholder:\"Digite o endere\\xe7o\",id:\"searchBox\",value:Z,onChange:function(e){return $(e.target.value)}})),K?_(s.b,{onMouseEnter:function(){return U(!0)},style:{background:\"white\",boxShadow:\"1px 1px 3px grey\",borderRadius:\"5px\",padding:\"10px\",position:\"absolute\",top:\"50px\",width:\"80%\"}},V.length>0?V.map((function(e,t){return _(q,{key:t,onClick:function(){$(e),console.log(e)},style:{borderBottom:\"1px solid grey\"}},e)})):_(q,null,\"Nenhuma sugest\\xe3o encontrada\")):\"\")),E?_(h.a,{result:F,color:G,message:R}):\"\",_(s.a,{onClick:function(){return se()}},\"Criar categoria\"));function se(){var e;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.awrap(ae(Z));case 2:if(e=n.sent){n.next=5;break}return n.abrupt(\"return\");case 5:Object(b.a)().post(\"/reseller\",{name:t,phone:g,email:c,address:Z,geocode:{lat:e[0].coordinates[0],lng:e[0].coordinates[1]}}).then((function(e){H(!0),Q(\"green\"),T(\"Revendedor criado com sucesso\"),P(!0),m((function(e,t){re(f.a.loadResellers(t))})),ie()})).catch((function(e){H(!1),T(e.response?e.response.data:e.toString()),P(!0)}));case 6:case\"end\":return n.stop()}}),null,null,null,Promise)}function ce(e){\"Enter\"==e.key&&se()}function ie(){n(\"\"),l(\"\"),v(\"\"),$(\"\")}},q=d.b.p.withConfig({displayName:\"AddResellers__Item\",componentId:\"sc-1jbnz8c-0\"})([\"font-size:1rem;cursor:pointer;transition:.4s;:hover{opacity:.9;color:#81161B;}z-index:9;margin:0;padding:12px 0;:last-child{border-bottom:none !important;}\"]),A=d.b.div.withConfig({displayName:\"AddResellers__Row\",componentId:\"sc-1jbnz8c-1\"})([\"display:flex;width:100%;flex-direction:row;justify-content:space-between;input{margin-right:5px;}\"]),H=o.a.createElement;t.default=function(){return H(a.a,null,H(c.a,null),H(s.c,null,H(\"div\",{style:{width:\"100%\"}},H(\"h1\",{className:\"main-title\",style:{textAlign:\"center\",color:\"rgb(35,43,111)\"}},\"Revendedores\"),H(s.d,null),H(\"div\",{style:{marginTop:\"50px\",padding:\"0 15px\"}},H(E,null)),H(\"div\",{style:{marginTop:\"50px\",padding:\"0 15px\"}},H(F,null)))))}},o0o1:function(e,t,n){e.exports=n(\"ls82\")}},[[\"VBqF\",0,1,5,2,3,4,6,7,8,9,10,12,13,14]]]);"}