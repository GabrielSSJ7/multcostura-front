{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{\"19J2\":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/search\",function(){return n(\"eOhz\")}])},C3Os:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return g}));var a=n(\"o0o1\"),r=n.n(a),c=n(\"q1tI\"),i=n.n(c),o=n(\"vOnD\"),s=n(\"nOHt\"),u=n(\"1yJj\"),l=n(\"/MKj\"),d=n(\"ypun\"),f=n(\"IQ0W\"),h=n(\"LwEf\"),p=n.n(h),b=i.a.createElement;function g(t){var e=t.id,n=t.type,a=t.search,i=Object(s.useRouter)(),o=Object(l.b)(),h=Object(l.c)((function(t){return t.Machine})),g=(h.machines,h.machinesForFilters,h.filters),j=Object(c.useState)([]),w=(j[0],j[1]),v=Object(c.useState)(0),k=v[0],P=v[1],x=Object(c.useState)([]),_=x[0],F=x[1],S=Object(c.useState)(!1),E=S[0],I=S[1];function M(t,e){for(var n=[],a=0,r=t.length/e;a<r;++a)n.push(t.slice(a*e,(a+1)*e));return n}return Object(c.useEffect)((function(){I(!0),function(){var t,c;r.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!a){i.next=30;break}return console.log(\"search\",a),t={data:[]},c={data:[]},i.prev=4,i.next=7,r.a.awrap(Object(u.a)().get(\"/machine?search=\".concat(a,\"&filters=\").concat(JSON.stringify(g))));case 7:t=i.sent,listP=t.data,i.next=13;break;case 11:i.prev=11,i.t0=i.catch(4);case 13:return i.prev=13,i.next=16,r.a.awrap(Object(u.a)().get(\"/tools?search=\".concat(a)));case 16:c=i.sent,console.log(\"tools >\",c),listP=c.data,i.next=23;break;case 21:i.prev=21,i.t1=i.catch(13);case 23:w(t.data.concat(c.data)),o(d.a.loadMachines(t.data.concat(c.data))),o(d.a.loadMachinesForFilters(t.data.concat(c.data))),F(M(t.data.concat(c.data),10)),I(!1),i.next=34;break;case 30:if(\"tools\"==n){i.next=33;break}return Object(u.a)().get(\"machine?\".concat(n,\"=\").concat(e,\"&filters=\").concat(JSON.stringify(g))).then((function(t){o(d.a.loadMachines(t.data)),o(d.a.loadMachinesForFilters(t.data)),w(t.data),F(M(t.data,10)),I(!1)})).catch((function(t){I(!1)})),i.abrupt(\"return\");case 33:Object(u.a)().get(\"/tools\").then((function(t){console.log(t.data),o(d.a.loadMachines(t.data)),w(t.data),F(M(t.data,10)),I(!1)})).catch((function(t){I(!1)}));case 34:case\"end\":return i.stop()}}),null,null,[[4,11],[13,21]],Promise)}()}),[e,n]),Object(c.useEffect)((function(){if(\"tools\"!=n&&!a)return I(!0),void Object(u.a)().get(\"machine?\".concat(n,\"=\").concat(e,\"&filters=\").concat(JSON.stringify(g))).then((function(t){o(d.a.loadMachines(t.data)),w(t.data),F(M(t.data,10)),I(!1)})).catch((function(t){o(d.a.loadMachines([])),w([]),F(M([],10)),I(!1)}))}),[g]),b(f.b,{style:{width:\"80%\",margin:\"0 auto\",flexWrap:\"wrap\"}},E?b(\"img\",{src:p.a,style:{width:\"32px\",margin:\"auto\",display:\"block\"}}):_.length>0?b(f.b,null,b(\"h1\",null,a?\"Resultado da sua busca\":\"\"),b(f.f,{style:{flexWrap:\"wrap\"}},_[k].map((function(t){return b(f.b,{key:t.id,style:{width:\"32%\",cursor:\"pointer\",marginRight:\"1.3%\",minWidth:\"280px\"},onClick:function(){return i.push({pathname:\"/produto\",query:{id:t.id}})},ait:\"center\"},b(y,{src:t.images.length>0?t.images[0]:\"\",width:\"100%\",height:\"280px\"}),b(m,null,t.name))}))),b(f.f,{jc:\"center\",ait:\"center\"},b(O,{onClick:function(){!(k<0)&&P(k-1)}},\"<\"),_.map((function(t,e){return b(O,{key:e,current:k==e,onClick:function(){return P(e)}},e)})),b(O,{onClick:function(){_.length!=k+1&&P(k+1)}},\">\"))):b(m,{style:{margin:\"auto\"}},\"Nenhuma m\\xe1quina encontrada\"))}var m=o.b.p.withConfig({displayName:\"ListProds__Name\",componentId:\"sc-10dqkm5-0\"})([\"text-align:center;font-family:Segoe UI;letter-spacing:0;color:#000000;opacity:1;\"]),O=o.b.p.withConfig({displayName:\"ListProds__PagItem\",componentId:\"sc-10dqkm5-1\"})([\"cursor:pointer;padding:5px;transition:.2s;color:\",\";:hover{opacity:.8;}\"],(function(t){return t.current?\"red\":\"#5B5B5B\"})),y=o.b.div.withConfig({displayName:\"ListProds__Img\",componentId:\"sc-10dqkm5-2\"})([\"background-image:url('\",\"');background-size:80%;background-position:center;background-repeat:no-repeat;width:\",\";height:\",\";transform:translateX(\",\"px);transition:transform 0.2s ease-in-out;position:relative;:hover{transform:scale(1.1);-webkit-transform:scale(1.1);}\"],(function(t){return t.src}),(function(t){return t.width}),(function(t){return t.height}),(function(t){return t.translate}))},LwEf:function(t,e){t.exports=\"/_next/static/images/loading-a5be3183a6fc9f33fd260dc0b0ad5a9f.gif\"},eOhz:function(t,e,n){\"use strict\";n.r(e),n.d(e,\"default\",(function(){return o}));var a=n(\"q1tI\"),r=n.n(a),c=(n(\"1yJj\"),n(\"AiAD\")),i=(n(\"C3Os\"),r.a.createElement);function o(t){t.searchTerm,Object(a.useState)([]),Object(a.useState)([]);return i(c.a,null)}o.getInitialProps=function(t){return{searchTerm:t.query.search}}},ypun:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return l}));var a,r=n(\"rePB\"),c=n(\"zyFE\");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var s=Object(c.createActions)({loadMachines:[\"machines\"],loadMachinesForFilters:[\"machines\"],loadFilters:[\"filters\"]}),u=s.Types,l=s.Creators,d={machines:[],machinesForFilters:[],filters:{}};e.b=Object(c.createReducer)(d,(a={},Object(r.a)(a,u.LOAD_MACHINES,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,e=arguments.length>1?arguments[1]:void 0;return o({},t,{machines:e.machines})})),Object(r.a)(a,u.LOAD_MACHINES_FOR_FILTERS,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,e=arguments.length>1?arguments[1]:void 0;return o({},t,{machinesForFilters:e.machines})})),Object(r.a)(a,u.LOAD_FILTERS,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,e=arguments.length>1?arguments[1]:void 0;return o({},t,{filters:e.filters})})),a))}},[[\"19J2\",0,1,4,2,3,5,6,8,9,10,11]]]);"}