{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{AnT9:function(e,n,t){\"use strict\";var a=t(\"1OyB\"),r=t(\"vuIU\"),o=t(\"md7G\"),i=t(\"foSv\"),c=t(\"Ji7U\"),s=t(\"h4VS\"),u=t(\"q1tI\"),l=t.n(u),p=t(\"vDqi\"),d=t.n(p),f=t(\"8Kt/\"),g=t.n(f),m=t(\"vOnD\"),h=(t(\"zHLA\"),l.a.createElement);function b(){var e=Object(s.a)([\"\\n    @font-face {\\n      font-family: LithosPro\\n      src: url(\",\")\\n    }    \\n\\n    @font-face {\\n      font-family: Myriad\\n      src: url(\",\")\\n    }\\n\\n    .main-title {\\n      font-family: LithosPro !important;\\n      \\n    }\\n    * {\\n      font-family: Myriad\\n    }\\n\\n    body {\\n      margin: 0;\\n      padding: 0;\\n    }\\n\\t\\t.carousel div {\\n\\t\\t\\tmax-height: 350px\\n    }\\n    \\n    .form-control {\\n      width: 100%;\\n      padding: 12px 20px;\\n      margin: 8px 0;\\n      display: inline-block;\\n      border: 1px solid #ccc;\\n      border-radius: 4px;\\n      box-sizing: border-box;\\n    }\\n\"]);return b=function(){return e},e}var v=Object(m.a)(b(),t(\"vLwc\"),t(\"wbY/\")),y=function(e){function n(e){var t;return Object(a.a)(this,n),(t=Object(o.a)(this,Object(i.a)(n).call(this,e))).state={nick:\"\"},d.a.defaults.baseURL=\"http://localhost:4000\",t}return Object(c.a)(n,e),Object(r.a)(n,[{key:\"componentDidMount\",value:function(){var e=this;localStorage.getItem(\"nick\")&&(nick=localStorage.getItem(\"nick\"),Axios.post(\"\".concat(actionTypes.URL,\"validateToken\"),{token:localStorage.getItem(\"authToken\")}).then((function(n){n.data?e.props.temApelido():(localStorage.removeItem(\"authToken\"),Axios.defaults.headers.common.Authorization=\"\")})).catch((function(e){}))),console.log(\"componentDidMount\");var n=document.createElement(\"script\");n.src=\"https://www.bing.com/api/maps/mapcontrol?key=\".concat(\"ArBcF40dX4IT5Co3SIxT7TfvEqq3VNdafH09G2lYGLmm1PvaaFwU-xHaQLjtmpDe\",\"&callback=loadMapScenario\"),n.async=!1,document.body.appendChild(n)}},{key:\"render\",value:function(){return h(\"div\",{style:{margin:0,padding:0}},h(g.a,null,h(\"title\",null,\"Multcostura\"),h(\"style\",null,\"\\n            \\n          \")),h(v,null),h(\"div\",{style:{margin:0,padding:0,display:\"flex\"}},this.props.children))}}]),n}(l.a.Component);n.a=y},L4I5:function(e,n,t){\"use strict\";t.r(n);var a=t(\"q1tI\"),r=t.n(a),o=t(\"8cHP\"),i=t(\"AnT9\"),c=t(\"IQ0W\"),s=t(\"zHLA\"),u=(t(\"IP2g\"),t(\"o0o1\")),l=t.n(u),p=t(\"rePB\"),d=t(\"vOnD\"),f=t(\"/MKj\"),g=t(\"SPqj\"),m=t(\"ypun\"),h=(t(\"dlDv\"),t(\"79Xs\")),b=t(\"ZiQX\"),v=r.a.createElement;function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(Object(t),!0).forEach((function(n){Object(p.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function j(){var e=Object(a.useState)({category:null,manufacturer:null,search:\"\"}),n=e[0],t=e[1],i=Object(a.useState)([]),s=i[0],u=i[1],p=Object(a.useState)([]),d=p[0],y=p[1],j=Object(f.c)((function(e){return e.Machine})).machines,C=Object(f.b)(),P=Object(a.useState)({result:\"success\",open:!1,message:\"\"}),E=P[0],_=P[1];return Object(a.useEffect)((function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:Object(g.e)((function(e,n){if(e)return _({result:\"error\",open:!0,message:e}),void C(m.a.loadMachines([]));C(m.a.loadMachines(n))}),{category:n.category,manufacturer:n.manufacturer,search:n.search});case 1:case\"end\":return e.stop()}}),null,null,null,Promise),function(){}}),[n]),Object(a.useEffect)((function(){Object(g.e)((function(e,n){e?_({result:\"error\",message:e,open:!0}):C(m.a.loadMachines(n))})),Object(g.f)((function(e,n){e?_({result:\"error\",open:!0,message:e}):(u(n.categories.data),y(n.manufacturers.data))}))}),[]),v(r.a.Fragment,null,v(h.a,{open:E.open,autoHideDuration:3e3,onClose:function(){_(O({},E,{open:!1}))}},v(b.a,{severity:E.result},E.message)),v(\"div\",{style:{width:\"100%\",display:\"block\",margin:\"auto\"}},v(c.e,{value:n.search,type:\"text\",name:\"search\",id:\"search\",placeholder:\"Pesquise pelo nome\",onChange:function(e){return t(O({},n,{search:e.target.value}))}}),v(c.g,{value:n.category,onChange:function(e){return t(O({},n,{category:e.target.value}))}},v(\"option\",{value:\"\"},\"Escolha uma categoria\"),s.map((function(e){return v(\"option\",{selected:n.category==e.id&&e.id,value:e.id},e.name)}))),v(c.g,{value:n.manufacturer,onChange:function(e){return t(O({},n,{manufacturer:e.target.value}))}},v(\"option\",{value:\"\"},\"Escolha um fabricante\"),d.map((function(e){return v(\"option\",{selected:n.manufacturer==e.id&&e.id,value:e.id},e.name)})))),v(w,null,j.map((function(e){return v(o.Link,{as:\"/admin/machine/\".concat(e.id.toString()),href:\"/admin/machines/machine?id=\".concat(e.id.toString())},v(x,null,v(\"img\",{src:e.images[0]}),v(\"div\",null,v(S,null,\" \",e.name,\" \"),v(k,null,e.description))))}))))}var w=d.b.div.withConfig({displayName:\"ListMachines__Container\",componentId:\"um70bv-0\"})([\"display:flex;flex-direction:row;width:100%;flex-wrap:wrap;justify-content:center;\"]),x=d.b.div.withConfig({displayName:\"ListMachines__CardContainer\",componentId:\"um70bv-1\"})([\"min-width:250px;max-width:250px;max-height:300px;overflow:hidden;cursor:pointer;display:flex;flex-direction:column;flex-wrap:no-wrap;margin-bottom:10px;margin-right:15px;img{width:100%;max-width:230px;display:block;margin:auto}padding:15px;:hover{box-shadow:0 14px 28px rgba(0,0,0,0.25),0 10px 10px rgba(0,0,0,0.22);}box-shadow:0 3px 6px rgba(0,0,0,0.16),0 3px 6px rgba(0,0,0,0.23);}\"]),S=d.b.p.withConfig({displayName:\"ListMachines__Title\",componentId:\"um70bv-2\"})([\"font-size:22px;margin:0 15px;\"]),k=d.b.p.withConfig({displayName:\"ListMachines__Subtitle\",componentId:\"um70bv-3\"})([\"color:lightgrey;margin:0 15px;\"]),C=(d.b.p.withConfig({displayName:\"ListMachines__Description\",componentId:\"um70bv-4\"})([\"color:grey;margin:15px 15px;\"]),r.a.createElement);n.default=function(){var e=Object(a.useState)(!1);return e[0],e[1],C(i.a,null,C(s.a,null),C(c.c,null,C(\"div\",{style:{width:\"100%\"}},C(\"h1\",{className:\"main-title\",style:{textAlign:\"center\",color:\"rgb(35,43,111)\"}},\"M\\xe1quinas\"),C(c.d,null),C(\"div\",{style:{marginTop:\"50px\",padding:\"0 15px\"}},C(r.a.Fragment,null,C(\"h3\",{className:\"main-title\",style:{color:\"rgb(129, 22, 27)\"}},\"Op\\xe7\\xf5es\"),C(c.a,{onClick:function(){return o.Router.pushRoute(\"/admin/machines/new-machine\")}},\"Adicionar nova m\\xe1quina\")),C(j,null)))))}},RCK1:function(e,n){e.exports=\"/_next/static/images/logo-multcostura-op\\xe7\\xe3o-3-c1348ddb586f0519b6c525d576fd9c5d.png\"},SPqj:function(e,n,t){\"use strict\";t.d(n,\"e\",(function(){return c})),t.d(n,\"d\",(function(){return s})),t.d(n,\"f\",(function(){return u})),t.d(n,\"b\",(function(){return l})),t.d(n,\"g\",(function(){return p})),t.d(n,\"a\",(function(){return d})),t.d(n,\"c\",(function(){return f}));var a=t(\"o0o1\"),r=t.n(a),o=t(\"1yJj\"),i=t(\"Yfch\");function c(e,n){var t=n||{};Object(o.a)().get(\"/machine?categories=\".concat(t.category,\"&manufacturer=\").concat(t.manufacturer,\"&search=\").concat(t.search)).then((function(n){e(null,n.data)})).catch((function(n){e(n.response?n.response.data:n.toString())}))}function s(e,n){Object(o.a)().get(\"/machine/\".concat(e)).then((function(e){n(null,e.data)})).catch((function(e){n(e.response?e.response.data:e.toString())}))}function u(e){var n,t;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,r.a.awrap(Object(o.a)().get(\"/manufacturer\"));case 3:return n=a.sent,a.next=6,r.a.awrap(Object(o.a)().get(\"/categories\"));case 6:t=a.sent,e(null,{manufacturers:n,categories:t}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),e(a.t0);case 13:case\"end\":return a.stop()}}),null,null,[[0,10]],Promise)}function l(e,n,t,a){Object(o.a)().delete(\"/images?id=\".concat(e,\"&type=\").concat(n,\"&image=\").concat(t)).then((function(e){a(null)})).catch((function(e){a(e.response?e.response.data:e.toString())}))}function p(e,n,t,a,i,c){var s,u,l,p,d,f,g,m;return r.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:console.log(t),s=e.id,u=e.name,l=e.description,p=e.mainFeatures,d=e.specifications,f=e.category,g=e.manufacturer,m=new FormData,console.log(\"specifications\",JSON.stringify(d)),m.append(\"name\",u),m.append(\"description\",l),m.append(\"mainFeatures\",p),m.append(\"specifications\",d&&Object.keys(d).length>0?JSON.stringify(d):null),m.append(\"category\",f),m.append(\"manufacturer\",g),m.append(\"video\",e.video),m.append(\"folheto\",i.folheto),m.append(\"manual\",i.manual),Object.keys(n).forEach((function(e){m.append(\"machines\",n[e])})),m.append(\"sewingType\",t),Object.keys(a).forEach((function(e){m.append(\"productReferences\",a[e])})),Object(o.a)().put(\"/machine/\"+s,m).then((function(e){c(null,e.data)})).catch((function(e){c(e.response?e.response.data:e.toString())}));case 19:case\"end\":return r.stop()}}),null,null,null,Promise)}function d(e,n,t,a,r,c){var s=new FormData,u=Object.keys(n),l=[!1,!1,!1];if(u.forEach((function(e){l[0]=!Object(i.b)([\"png\",\"jpg\",\"jpeg\",\"svg\",\"gif\",\"webp\"],1e4,n[e]),s.append(\"machines\",n[e])})),Object.keys(a).forEach((function(e){l[1]=!Object(i.b)([\"png\",\"jpg\",\"jpeg\",\"svg\",\"gif\",\"webp\"],1e4,a[e]),s.append(\"productReferences\",a[e])})),l[2]=!Object(i.b)([\"png\",\"jpg\",\"jpeg\",\"svg\",\"gif\",\"webp\"],1e4,t),l.includes(!0))return c(\"Voc\\xea precisa subir imagens png, jpg, jpeg, svg, gif, webp com no m\\xe1ximo 10MB\");var p=Object(i.a)({nome:e.name,fabricante:e.manufacturer,\"subt\\xedtulo\":e.description,categoria:e.category,\"caracter\\xedsticas\":e.mainFeatures});if(!p.return)return c(\"\".concat(p.message,\" \").concat(p.field));s.append(\"name\",e.name),s.append(\"manufacturer\",e.manufacturer),s.append(\"description\",e.description),s.append(\"category\",e.category),s.append(\"mainFeatures\",e.mainFeatures),s.append(\"specifications\",JSON.stringify(e.specifications)),s.append(\"video\",e.video),s.append(\"folheto\",r.folheto),s.append(\"manual\",r.manual),Object(o.a)().post(\"machine\",s).then((function(e){c(null,e.data)})).catch((function(e){c(e.response?e.response.data:e.toString())}))}function f(e,n){Object(o.a)().delete(\"/machine/\".concat(e)).then((function(e){n(null,e.data)})).catch((function(e){n(e.response?e.response.data:e.toString())}))}},Yfch:function(e,n,t){\"use strict\";function a(e,n,t){if(!t)return!0;var a=!1,r=n/1e3,o=t.type.split(\"/\");return e.forEach((function(e){console.log(e,o[1]),e==o[1]&&(a=!0)})),r>100&&(a=!1),!!a}function r(e){var n={return:!0,message:\"\",field:\"\"},t=!1;return Object.keys(e).forEach((function(a){t||e[a]||(t=!0,n={return:!1,message:\"Campo vazio: \",field:a})})),n}t.d(n,\"b\",(function(){return a})),t.d(n,\"a\",(function(){return r}))},dlDv:function(e,n,t){\"use strict\";t.d(n,\"a\",(function(){return l}));var a,r=t(\"rePB\"),o=t(\"zyFE\");function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){Object(r.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var s=Object(o.createActions)({changeMessage:[\"message\"],changeMessageType:[\"messageType\"],changeMessageColor:[\"messageColor\"]}),u=s.Types,l=s.Creators,p={message:\"\",messageType:!1,messageColor:\"\"};n.b=Object(o.createReducer)(p,(a={},Object(r.a)(a,u.CHANGE_MESSAGE,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=arguments.length>1?arguments[1]:void 0;return c({},e,{message:n.message})})),Object(r.a)(a,u.CHANGE_MESSAGE_TYPE,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=arguments.length>1?arguments[1]:void 0;return c({},e,{messageType:n.messageType})})),Object(r.a)(a,u.CHANGE_MESSAGE_COLOR,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=arguments.length>1?arguments[1]:void 0;return c({},e,{messageColor:n.messageColor})})),a))},o0o1:function(e,n,t){e.exports=t(\"ls82\")},ypun:function(e,n,t){\"use strict\";t.d(n,\"a\",(function(){return l}));var a,r=t(\"rePB\"),o=t(\"zyFE\");function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){Object(r.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var s=Object(o.createActions)({loadMachines:[\"machines\"],loadMachinesForFilters:[\"machines\"],loadFilters:[\"filters\"]}),u=s.Types,l=s.Creators,p={machines:[],machinesForFilters:[],filters:{}};n.b=Object(o.createReducer)(p,(a={},Object(r.a)(a,u.LOAD_MACHINES,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=arguments.length>1?arguments[1]:void 0;return c({},e,{machines:n.machines})})),Object(r.a)(a,u.LOAD_MACHINES_FOR_FILTERS,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=arguments.length>1?arguments[1]:void 0;return c({},e,{machinesForFilters:n.machines})})),Object(r.a)(a,u.LOAD_FILTERS,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=arguments.length>1?arguments[1]:void 0;return c({},e,{filters:n.filters})})),a))},zHLA:function(e,n,t){\"use strict\";var a=t(\"q1tI\"),r=t.n(a),o=t(\"vOnD\"),i=t(\"8cHP\"),c=t(\"IP2g\"),s=t(\"wHSu\");var u=r.a.createElement;n.a=function(){return u(p,null,u(d,null,u(f,{src:t(\"RCK1\")})),u(\"hr\",{style:{width:\"80%\"}}),u(g,{onClick:function(){return l(\"home\")}},u(c.a,{icon:s.j,size:\"2x\"}),u(m,null,\"Institucional\")),u(g,{onClick:function(){return l(\"categories\")}},u(c.a,{icon:s.l,size:\"2x\"}),u(m,null,\"Categorias\")),u(g,{onClick:function(){return l(\"manufacturers\")}},u(c.a,{icon:s.t,size:\"2x\"}),u(m,null,\"Fabricantes\")),u(g,{onClick:function(){return l(\"reseller\")}},u(c.a,{icon:s.h,size:\"2x\"}),u(m,null,\"Revendedores\")),u(g,{onClick:function(){return l(\"machines\")}},u(c.a,{icon:s.d,size:\"2x\"}),u(m,null,\"M\\xe1quinas\")),u(g,{onClick:function(){return l(\"news\")}},u(c.a,{icon:s.n,size:\"2x\"}),u(m,null,\"Not\\xedcias\")),u(g,{onClick:function(){return l(\"tools\")}},u(c.a,{icon:s.r,size:\"2x\"}),u(m,null,\"Pe\\xe7as\")),u(g,{onClick:function(){return document.cookie=\"user=;\",void i.Router.pushRoute(\"/login\")}},u(c.a,{icon:s.f,size:\"2x\"}),u(\"span\",null,\"Sair\")))};function l(e){i.Router.pushRoute(\"/admin/\".concat(e))}var p=o.b.div.withConfig({displayName:\"Sidebar__DivRoot\",componentId:\"doaggk-0\"})([\"background-color:rgb(129,22,27);height:100vh;width:220px;display:flex;position:fixed;flex-direction:column;overflow:auto;max-height:100%;::-webkit-scrollbar{display:none;}\"]),d=o.b.div.withConfig({displayName:\"Sidebar__DivHeader\",componentId:\"doaggk-1\"})([\"\"]),f=o.b.img.withConfig({displayName:\"Sidebar__ImageHeader\",componentId:\"doaggk-2\"})([\"width:100%;margin:20px auto;display:block;\"]),g=o.b.div.withConfig({displayName:\"Sidebar__DivItem\",componentId:\"doaggk-3\"})([\"padding:20px 15px;color:white;transition:0.5s;display:flex;align-items:center;flex-direction:row;svg{width:15px;margin-right:10px;}cursor:pointer;:hover{background:rgb(35,43,111);}\"]),m=o.b.a.withConfig({displayName:\"Sidebar__NavLink\",componentId:\"doaggk-4\"})([\"text-decoration:none;color:white;cursor:pointer;\"])},zJja:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin/machines\",function(){return t(\"L4I5\")}])}},[[\"zJja\",0,1,5,2,3,4,6,7,8,10]]]);"}