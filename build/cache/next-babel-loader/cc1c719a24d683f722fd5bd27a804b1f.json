{"ast":null,"code":"var _jsxFileName = \"/home/ti/Projects/WebProjects/multcostura/web-multcostura/pages/admin/banner/categories.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Template from \"../../../src/components/templates/Admin\";\nimport Sidebar from \"../../../src/components/admin/Sidebar\";\nimport Slide from \"../../../src/components/utils/Slider\";\nimport { Container, Button, Select } from \"../../../src/static/styled-components/base\";\nimport imageNotFound from \"../../../src/static/images/image-404.jpg\";\nexport default function Categories() {\n  const {\n    0: images,\n    1: setImages\n  } = useState([]);\n  const {\n    0: inputs,\n    1: setInputs\n  } = useState([]);\n  const {\n    0: slideControl,\n    1: setSlideControl\n  } = useState(1);\n\n  function addSlide() {\n    const inputIndex = images.length;\n    setImages([...images, imageNotFound]);\n    setInputs([...inputs, __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, \"Banner \", inputIndex), __jsx(\"input\", {\n      type: \"file\",\n      onChange: e => changeBannerImage(e.target.files[0], inputIndex),\n      id: inputIndex,\n      key: inputIndex,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }), __jsx(\"p\", {\n      onClick: () => removeSlide(inputIndex),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, \"Remover slide\"))]);\n    setSlideControl(images.length + 1);\n  }\n\n  function changeBannerImage(file, index) {\n    setImages(images => images.map((image, ind) => {\n      if (ind == index) return file ? URL.createObjectURL(file) : imageNotFound;\n      return image;\n    }));\n  }\n\n  function removeSlide(id) {\n    setImages(images => images.splice(id - 1, 1));\n    setInputs(inputs => inputs.splice(id - 1, 1));\n    setSlideControl(id);\n  }\n\n  return __jsx(Template, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, __jsx(Sidebar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }), __jsx(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, __jsx(Column, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, images.length == 0 ? __jsx(React.Fragment, null) : __jsx(Slide, {\n    slideCtrl: slideControl,\n    images: images,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), __jsx(Button, {\n    style: {\n      width: \"50%\",\n      margin: \"15px auto\",\n      display: \"block\"\n    },\n    onClick: addSlide,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Adicionar Slide\"), __jsx(Select, {\n    style: {\n      width: \"50%\",\n      margin: \"0 auto\"\n    },\n    value: slideControl,\n    onChange: e => {\n      console.log(\"inputs => \", inputs);\n      console.log(\"slideControl =>\", slideControl);\n      console.log(\"images length =>\", images.length);\n      setSlideControl(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, images.map((e, i) => __jsx(\"option\", {\n    value: i + 1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Slide \", i))), __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, inputs.map(input => input)))));\n}\nconst Column = styled.div.withConfig({\n  displayName: \"categories__Column\",\n  componentId: \"sc-1r0920d-0\"\n})([\"display:flex;flex-direction:column;\"]);\n\nCategories.getInitialProps = async ({\n  query\n}) => {\n  return {\n    category: query.category\n  };\n};","map":{"version":3,"sources":["/home/ti/Projects/WebProjects/multcostura/web-multcostura/pages/admin/banner/categories.js"],"names":["React","useState","useEffect","styled","Template","Sidebar","Slide","Container","Button","Select","imageNotFound","Categories","images","setImages","inputs","setInputs","slideControl","setSlideControl","addSlide","inputIndex","length","e","changeBannerImage","target","files","removeSlide","file","index","map","image","ind","URL","createObjectURL","id","splice","width","margin","display","console","log","value","i","input","Column","div","getInitialProps","query","category"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Template from \"../../../src/components/templates/Admin\";\nimport Sidebar from \"../../../src/components/admin/Sidebar\";\nimport Slide from \"../../../src/components/utils/Slider\";\nimport {\n  Container,\n  Button,\n  Select\n} from \"../../../src/static/styled-components/base\";\n\nimport imageNotFound from \"../../../src/static/images/image-404.jpg\";\n\nexport default function Categories() {\n  const [images, setImages] = useState([]);\n  const [inputs, setInputs] = useState([]);\n  const [slideControl, setSlideControl] = useState(1);\n\n  function addSlide() {\n    const inputIndex = images.length;\n    setImages([...images, imageNotFound]);\n    setInputs([\n      ...inputs,\n      <div>\n        <p>Banner {inputIndex}</p>\n        <input\n          type=\"file\"\n          onChange={e => changeBannerImage(e.target.files[0], inputIndex)}\n          id={inputIndex}\n          key={inputIndex}\n        />\n        <p onClick={() => removeSlide(inputIndex)}>Remover slide</p>\n      </div>\n    ]);\n    setSlideControl(images.length + 1);\n  }\n\n  function changeBannerImage(file, index) {\n    setImages(images =>\n      images.map((image, ind) => {\n        if (ind == index)\n          return file ? URL.createObjectURL(file) : imageNotFound;\n        return image;\n      })\n    );\n  }\n\n  function removeSlide(id) {\n    setImages(images => images.splice(id - 1, 1));\n    setInputs(inputs => inputs.splice(id - 1, 1));\n    setSlideControl(id);\n  }\n\n  return (\n    <Template>\n      <Sidebar />\n      <Container>\n        <Column>\n          {images.length == 0 ? (\n            <></>\n          ) : (\n            <Slide slideCtrl={slideControl} images={images} />\n          )}\n\n          <Button\n            style={{ width: \"50%\", margin: \"15px auto\", display: \"block\" }}\n            onClick={addSlide}\n          >\n            Adicionar Slide\n          </Button>\n\n          <Select\n            style={{ width: \"50%\", margin: \"0 auto\" }}\n            value={slideControl}\n            onChange={e => {\n              console.log(\"inputs => \", inputs);\n              console.log(\"slideControl =>\", slideControl);\n              console.log(\"images length =>\", images.length);\n\n              setSlideControl(e.target.value);\n            }}\n          >\n            {images.map((e, i) => (\n              <option value={i + 1}>Slide {i}</option>\n            ))}\n          </Select>\n          <div>{inputs.map(input => input)}</div>\n        </Column>\n      </Container>\n    </Template>\n  );\n}\n\nconst Column = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nCategories.getInitialProps = async ({ query }) => {\n  return { category: query.category };\n};\n"]},"metadata":{},"sourceType":"module"}