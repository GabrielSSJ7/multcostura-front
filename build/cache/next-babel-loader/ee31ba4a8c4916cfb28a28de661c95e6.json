{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Button } from \"../../../static/styled-components/base\";\nimport { Creators as ResellerCreators } from \"../../../ducks/resellers\";\nimport { Creators as UtilsCreators } from \"../../../ducks/utils\";\nimport { getResellers } from \"../../../utils/reseller\";\nimport Upload from \"../../utils/Upload\";\nimport Message from \"../../utils/Message\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nexport default function ListResellers() {\n  var _useSelector = useSelector(function (state) {\n    return state.Utils;\n  }),\n      message = _useSelector.message,\n      messageType = _useSelector.messageType,\n      messageColor = _useSelector.messageColor;\n\n  var _useSelector2 = useSelector(function (state) {\n    return state.Reseller;\n  }),\n      resellers = _useSelector2.resellers;\n\n  var _useState = useState(false),\n      visible = _useState[0],\n      setVisible = _useState[1];\n\n  var _useState2 = useState(false),\n      diag = _useState2[0],\n      setDiag = _useState2[1];\n\n  var _useState3 = useState({\n    address: {}\n  }),\n      resellerToEdit = _useState3[0],\n      setResellerToEdit = _useState3[1];\n\n  var dispatch = useDispatch();\n  useEffect(function () {\n    function asyncFunc() {\n      getResellers(function (err, resellers) {\n        if (err) {\n          dispatch(UtilsCreators.changeMessage());\n          dispatch(UtilsCreators.changeMessageType(false));\n          dispatch(UtilsCreators.changeMessageColor(\"red\"));\n          return;\n        }\n\n        dispatch(ResellerCreators.loadResellers(resellers));\n      });\n    }\n\n    asyncFunc();\n  }, []);\n\n  function handleClose() {\n    setDiag(false);\n    setResellerToEdit({\n      address: {}\n    });\n  }\n\n  function handleOpen(reseller) {\n    setResellerToEdit(reseller);\n    setDiag(true);\n  }\n\n  function editRes(res) {\n    editReseller(res.id, _objectSpread({}, res), function (err, data) {\n      if (err) {\n        dispatch(UtilsCreators.changeMessage(err));\n        dispatch(UtilsCreators.changeMessageType(false));\n        dispatch(UtilsCreators.changeMessageColor(\"red\"));\n        setVisible(true);\n        handleClose();\n        return;\n      }\n\n      getResellers(function (err, resellers) {\n        if (err) {\n          dispatch(UtilsCreators.changeMessage(err));\n          dispatch(UtilsCreators.changeMessageType(false));\n          dispatch(UtilsCreators.changeMessageColor(\"red\"));\n          return;\n        }\n\n        dispatch(ResellerCreators.loadResellers(resellers));\n      });\n      dispatch(UtilsCreators.changeMessage(\"Editado com sucesso\"));\n      dispatch(UtilsCreators.changeMessageType(true));\n      dispatch(UtilsCreators.changeMessageColor(\"green\"));\n      handleClose();\n      setVisible(true);\n    });\n  }\n\n  function delMan(id) {\n    deleteReseller(id, function (err, data) {\n      if (err) {\n        dispatch(UtilsCreators.changeMessage(err));\n        dispatch(UtilsCreators.changeMessageType(false));\n        dispatch(UtilsCreators.changeMessageColor(\"red\"));\n        setVisible(true);\n        return;\n      }\n\n      getResellers(function (err, resellers) {\n        dispatch(ResellerCreators.loadResellers(resellers));\n      });\n      dispatch(UtilsCreators.changeMessage(\"Deletado com sucesso\"));\n      dispatch(UtilsCreators.changeMessageType(true));\n      dispatch(UtilsCreators.changeMessageColor(\"green\"));\n      setVisible(true);\n    });\n  }\n\n  return __jsx(React.Fragment, null, __jsx(\"h3\", {\n    className: \"main-title\",\n    style: {\n      color: \"rgb(129, 22, 27)\"\n    }\n  }, \"Lista de fabricantes\"), __jsx(\"div\", null, __jsx(Dialog, {\n    open: diag,\n    onClose: handleClose,\n    \"aria-labelledby\": \"form-dialog-title\"\n  }, __jsx(DialogTitle, {\n    id: \"form-dialog-title\"\n  }, \"Editar categoria\"), __jsx(DialogContent, null, __jsx(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    id: \"name\",\n    label: \"Nome\",\n    type: \"text\",\n    value: resellerToEdit.name,\n    onChange: function onChange(e) {\n      return setResellerToEdit(_objectSpread({}, resellerToEdit, {\n        name: e.target.value\n      }));\n    },\n    fullWidth: true\n  }), __jsx(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    id: \"phone\",\n    label: \"Telefone\",\n    type: \"text\",\n    value: resellerToEdit.phone,\n    onChange: function onChange(e) {\n      return setResellerToEdit(_objectSpread({}, resellerToEdit, {\n        phone: e.target.value\n      }));\n    },\n    fullWidth: true\n  }), __jsx(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    id: \"email\",\n    label: \"E-mail\",\n    type: \"text\",\n    value: resellerToEdit.email,\n    onChange: function onChange(e) {\n      return setResellerToEdit(_objectSpread({}, resellerToEdit, {\n        email: e.target.value\n      }));\n    },\n    fullWidth: true\n  }), __jsx(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    id: \"logradouro\",\n    label: \"logradouro\",\n    type: \"text\",\n    value: resellerToEdit.address.publicPlace,\n    onChange: function onChange(e) {\n      return setResellerToEdit(_objectSpread({}, resellerToEdit, {\n        publicPlace: e.target.value\n      }));\n    },\n    fullWidth: true\n  }), __jsx(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    id: \"n\\xFAmero\",\n    label: \"n\\xFAmero\",\n    type: \"text\",\n    value: resellerToEdit.address.number,\n    onChange: function onChange(e) {\n      return setResellerToEdit(_objectSpread({}, resellerToEdit, {\n        number: e.target.value\n      }));\n    },\n    fullWidth: true\n  }), __jsx(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    id: \"district\",\n    label: \"district\",\n    type: \"text\",\n    value: resellerToEdit.address.district,\n    onChange: function onChange(e) {\n      return setResellerToEdit(_objectSpread({}, resellerToEdit, {\n        district: e.target.value\n      }));\n    },\n    fullWidth: true\n  }), __jsx(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    id: \"Estado\",\n    label: \"Estado\",\n    type: \"text\",\n    value: resellerToEdit.address.state,\n    onChange: function onChange(e) {\n      return setResellerToEdit(_objectSpread({}, resellerToEdit, {\n        state: e.target.value\n      }));\n    },\n    fullWidth: true\n  }), __jsx(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    id: \"Pa\\xEDs\",\n    label: \"Pa\\xEDs\",\n    type: \"text\",\n    value: resellerToEdit.address.country,\n    onChange: function onChange(e) {\n      return setResellerToEdit(_objectSpread({}, resellerToEdit, {\n        country: e.target.value\n      }));\n    },\n    fullWidth: true\n  })), __jsx(DialogActions, null, __jsx(Button, {\n    onClick: handleClose,\n    color: \"primary\"\n  }, \"Cancelar\"), __jsx(Button, {\n    onClick: function onClick() {\n      return editRes(resellerToEdit);\n    },\n    color: \"primary\"\n  }, \"Salvar\")))), __jsx(DivListCategories, null, resellers.map(function (reseller, id) {\n    return __jsx(ResellerContainer, {\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      style: {\n        borderBottom: \"1px solid lightgrey\"\n      },\n      key: id\n    }, __jsx(ResellerContainer, {\n      flexDirection: \"column\",\n      style: {\n        display: \"flex\",\n        justifyContent: \"column\"\n      }\n    }, __jsx(\"p\", {\n      style: {\n        fontWeight: \"200\"\n      }\n    }, \"Nome: \", reseller.name), __jsx(\"p\", {\n      style: {\n        fontWeight: \"200\"\n      }\n    }, \"Descri\\xE7\\xE3o: \", reseller.description), __jsx(\"p\", null, \"Logo:\", __jsx(\"span\", {\n      style: {\n        marginLeft: \"10px\"\n      }\n    }, __jsx(\"img\", {\n      src: reseller.logo,\n      style: {\n        width: \"120px\"\n      }\n    })))), __jsx(ResellerContainer, {\n      flexDirection: \"column\",\n      style: {\n        marginRight: \"10px\",\n        marginLeft: \"10px\"\n      }\n    }, __jsx(Button, {\n      onClick: function onClick() {\n        return handleOpen(reseller);\n      }\n    }, \"Editar\"), __jsx(Button, {\n      onClick: function onClick() {\n        return delMan(reseller.id);\n      }\n    }, \"Apagar\")));\n  })), visible ? __jsx(Message, {\n    result: messageType,\n    color: messageColor,\n    message: message\n  }) : \"\");\n}\nexport var Hr = styled.hr.withConfig({\n  displayName: \"ListResellers__Hr\",\n  componentId: \"xqh3vc-0\"\n})([\"width:50%;\"]);\nexport var Subcontainer = styled.div.withConfig({\n  displayName: \"ListResellers__Subcontainer\",\n  componentId: \"xqh3vc-1\"\n})([\"padding:0 15px;\"]);\nexport var ImageContainer = styled.div.withConfig({\n  displayName: \"ListResellers__ImageContainer\",\n  componentId: \"xqh3vc-2\"\n})([\"img{max-width:220px;display:block;margin:10px auto;}\"]);\nexport var DivListCategories = styled.div.withConfig({\n  displayName: \"ListResellers__DivListCategories\",\n  componentId: \"xqh3vc-3\"\n})([\"max-height:550px;overflow:auto;::-webkit-scrollbar{width:10px;}::-webkit-scrollbar-track{background:#f1f1f1;}::-webkit-scrollbar-thumb{background:rgb(129,22,27);}::-webkit-scrollbar-thumb:hover{background:#555;}\"]);\nexport var ResellerContainer = styled.div.withConfig({\n  displayName: \"ListResellers__ResellerContainer\",\n  componentId: \"xqh3vc-4\"\n})([\"display:flex;flex-direction:\", \";justify-content:\", \";\"], function (props) {\n  return props.flexDirection;\n}, function (props) {\n  return props.justifyContent;\n});","map":{"version":3,"sources":["/home/ti/Projects/WebProjects/multcostura/web-multcostura/src/components/admin/resellers/ListResellers.jsx"],"names":["React","useState","useEffect","useContext","styled","useSelector","useDispatch","Button","Creators","ResellerCreators","UtilsCreators","getResellers","Upload","Message","TextField","Dialog","DialogActions","DialogContent","DialogTitle","ListResellers","state","Utils","message","messageType","messageColor","Reseller","resellers","visible","setVisible","diag","setDiag","address","resellerToEdit","setResellerToEdit","dispatch","asyncFunc","err","changeMessage","changeMessageType","changeMessageColor","loadResellers","handleClose","handleOpen","reseller","editRes","res","editReseller","id","data","delMan","deleteReseller","color","name","e","target","value","phone","email","publicPlace","number","district","country","map","borderBottom","display","justifyContent","fontWeight","description","marginLeft","logo","width","marginRight","Hr","hr","Subcontainer","div","ImageContainer","DivListCategories","ResellerContainer","props","flexDirection"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport { Button } from \"../../../static/styled-components/base\";\nimport { Creators as ResellerCreators } from \"../../../ducks/resellers\";\nimport { Creators as UtilsCreators } from \"../../../ducks/utils\";\n\nimport { getResellers } from \"../../../utils/reseller\";\nimport Upload from \"../../utils/Upload\";\n\nimport Message from \"../../utils/Message\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nexport default function ListResellers() {\n  const { message, messageType, messageColor } = useSelector(\n    state => state.Utils\n  );\n  const { resellers } = useSelector(state => state.Reseller);\n  const [visible, setVisible] = useState(false);\n  const [diag, setDiag] = useState(false);\n  const [resellerToEdit, setResellerToEdit] = useState({address: {}});\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    function asyncFunc() {\n      getResellers(function(err, resellers) {\n        if (err) {\n          dispatch(UtilsCreators.changeMessage());\n          dispatch(UtilsCreators.changeMessageType(false));\n          dispatch(UtilsCreators.changeMessageColor(\"red\"));\n          return;\n        }\n        dispatch(ResellerCreators.loadResellers(resellers));\n      });\n    }\n    asyncFunc();\n  }, []);\n\n  function handleClose() {\n    setDiag(false);\n    setResellerToEdit({ address: {}});\n  }\n\n  function handleOpen(reseller) {\n    setResellerToEdit(reseller);\n    setDiag(true);\n  }\n\n  function editRes(res) {\n    editReseller(res.id, { ...res }, function(err, data) {\n      if (err) {\n        dispatch(UtilsCreators.changeMessage(err));\n        dispatch(UtilsCreators.changeMessageType(false));\n        dispatch(UtilsCreators.changeMessageColor(\"red\"));\n        setVisible(true);\n        handleClose();\n        return;\n      }\n      getResellers(function(err, resellers) {\n        if (err) {\n          dispatch(UtilsCreators.changeMessage(err));\n          dispatch(UtilsCreators.changeMessageType(false));\n          dispatch(UtilsCreators.changeMessageColor(\"red\"));\n          return;\n        }\n        dispatch(ResellerCreators.loadResellers(resellers));\n      });\n      dispatch(UtilsCreators.changeMessage(\"Editado com sucesso\"));\n      dispatch(UtilsCreators.changeMessageType(true));\n      dispatch(UtilsCreators.changeMessageColor(\"green\"));\n      handleClose();\n      setVisible(true);\n    });\n  }\n\n  function delMan(id) {\n    deleteReseller(id, function(err, data) {\n      if (err) {\n        dispatch(UtilsCreators.changeMessage(err));\n        dispatch(UtilsCreators.changeMessageType(false));\n        dispatch(UtilsCreators.changeMessageColor(\"red\"));\n        setVisible(true);\n        return;\n      }\n      getResellers(function(err, resellers) {\n        dispatch(ResellerCreators.loadResellers(resellers));\n      });\n      dispatch(UtilsCreators.changeMessage(\"Deletado com sucesso\"));\n      dispatch(UtilsCreators.changeMessageType(true));\n      dispatch(UtilsCreators.changeMessageColor(\"green\"));\n      setVisible(true);\n    });\n  }\n\n  return (\n    <>\n      <h3 className=\"main-title\" style={{ color: \"rgb(129, 22, 27)\" }}>\n        Lista de fabricantes\n      </h3>\n\n      <div>\n        <Dialog\n          open={diag}\n          onClose={handleClose}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <DialogTitle id=\"form-dialog-title\">Editar categoria</DialogTitle>\n          <DialogContent>\n            <TextField\n              autoFocus\n              margin=\"dense\"\n              id=\"name\"\n              label=\"Nome\"\n              type=\"text\"\n              value={resellerToEdit.name}\n              onChange={e =>\n                setResellerToEdit({\n                  ...resellerToEdit,\n                  name: e.target.value\n                })\n              }\n              fullWidth\n            />\n            <TextField\n              autoFocus\n              margin=\"dense\"\n              id=\"phone\"\n              label=\"Telefone\"\n              type=\"text\"\n              value={resellerToEdit.phone}\n              onChange={e =>\n                setResellerToEdit({\n                  ...resellerToEdit,\n                  phone: e.target.value\n                })\n              }\n              fullWidth\n            />\n            <TextField\n              autoFocus\n              margin=\"dense\"\n              id=\"email\"\n              label=\"E-mail\"\n              type=\"text\"\n              value={resellerToEdit.email}\n              onChange={e =>\n                setResellerToEdit({\n                  ...resellerToEdit,\n                  email: e.target.value\n                })\n              }\n              fullWidth\n            />\n\n            <TextField\n              autoFocus\n              margin=\"dense\"\n              id=\"logradouro\"\n              label=\"logradouro\"\n              type=\"text\"\n              value={resellerToEdit.address.publicPlace}\n              onChange={e =>\n                setResellerToEdit({\n                  ...resellerToEdit,\n                  publicPlace: e.target.value\n                })\n              }\n              fullWidth\n            />\n\n            <TextField\n              autoFocus\n              margin=\"dense\"\n              id=\"número\"\n              label=\"número\"\n              type=\"text\"\n              value={resellerToEdit.address.number}\n              onChange={e =>\n                setResellerToEdit({\n                  ...resellerToEdit,\n                  number: e.target.value\n                })\n              }\n              fullWidth\n            />\n\n            <TextField\n              autoFocus\n              margin=\"dense\"\n              id=\"district\"\n              label=\"district\"\n              type=\"text\"\n              value={resellerToEdit.address.district}\n              onChange={e =>\n                setResellerToEdit({\n                  ...resellerToEdit,\n                  district: e.target.value\n                })\n              }\n              fullWidth\n            />\n\n            <TextField\n              autoFocus\n              margin=\"dense\"\n              id=\"Estado\"\n              label=\"Estado\"\n              type=\"text\"\n              value={resellerToEdit.address.state}\n              onChange={e =>\n                setResellerToEdit({\n                  ...resellerToEdit,\n                  state: e.target.value\n                })\n              }\n              fullWidth\n            />\n\n            <TextField\n              autoFocus\n              margin=\"dense\"\n              id=\"País\"\n              label=\"País\"\n              type=\"text\"\n              value={resellerToEdit.address.country}\n              onChange={e =>\n                setResellerToEdit({\n                  ...resellerToEdit,\n                  country: e.target.value\n                })\n              }\n              fullWidth\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleClose} color=\"primary\">\n              Cancelar\n            </Button>\n            <Button onClick={() => editRes(resellerToEdit)} color=\"primary\">\n              Salvar\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n\n      <DivListCategories>\n        {resellers.map((reseller, id) => (\n          <ResellerContainer\n            flexDirection=\"row\"\n            justifyContent=\"space-between\"\n            style={{ borderBottom: \"1px solid lightgrey\" }}\n            key={id}\n          >\n            <ResellerContainer\n              flexDirection=\"column\"\n              style={{ display: \"flex\", justifyContent: \"column\" }}\n            >\n              <p style={{ fontWeight: \"200\" }}>Nome: {reseller.name}</p>\n              <p style={{ fontWeight: \"200\" }}>\n                Descrição: {reseller.description}\n              </p>\n              <p>\n                Logo:\n                <span style={{ marginLeft: \"10px\" }}>\n                  <img src={reseller.logo} style={{ width: \"120px\" }} />\n                </span>\n              </p>\n            </ResellerContainer>\n            <ResellerContainer\n              flexDirection=\"column\"\n              style={{ marginRight: \"10px\", marginLeft: \"10px\" }}\n            >\n              <Button onClick={() => handleOpen(reseller)}>Editar</Button>\n              <Button onClick={() => delMan(reseller.id)}>Apagar</Button>\n            </ResellerContainer>\n          </ResellerContainer>\n        ))}\n      </DivListCategories>\n\n      {visible ? (\n        <Message result={messageType} color={messageColor} message={message} />\n      ) : (\n        \"\"\n      )}\n    </>\n  );\n}\n\nexport const Hr = styled.hr`\n  width: 50%;\n`;\n\nexport const Subcontainer = styled.div`\n  padding: 0 15px;\n`;\n\nexport const ImageContainer = styled.div`\n  img {\n    max-width: 220px;\n    display: block;\n    margin: 10px auto;\n  }\n`;\n\nexport const DivListCategories = styled.div`\n  max-height: 550px;\n  overflow: auto;\n  /* width */\n  ::-webkit-scrollbar {\n    width: 10px;\n  }\n\n  /* Track */\n  ::-webkit-scrollbar-track {\n    background: #f1f1f1;\n  }\n\n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: rgb(129, 22, 27);\n  }\n\n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: #555;\n  }\n`;\n\nexport const ResellerContainer = styled.div`\n  display: flex;\n  flex-direction: ${props => props.flexDirection};\n  justify-content: ${props => props.justifyContent};\n`;\n"]},"metadata":{},"sourceType":"module"}