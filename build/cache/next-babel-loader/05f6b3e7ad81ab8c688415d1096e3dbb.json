{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Template from \"../../../src/components/templates/Admin\";\nimport Sidebar from \"../../../src/components/admin/Sidebar\";\nimport Slide from \"../../../src/components/utils/Slider\";\nimport { Container, Button, Select } from \"../../../src/static/styled-components/base\";\nimport imageNotFound from \"../../../src/static/images/image-404.jpg\";\nexport default function Categories() {\n  const {\n    0: images,\n    1: setImages\n  } = useState([]);\n  const {\n    0: inputs,\n    1: setInputs\n  } = useState([]);\n  const {\n    0: slideControl,\n    1: setSlideControl\n  } = useState(1);\n\n  function addSlide() {\n    const inputIndex = images.length;\n    setImages([...images, imageNotFound]);\n    setInputs([...inputs, __jsx(\"div\", null, __jsx(\"p\", null, \"Banner \", inputIndex), __jsx(\"input\", {\n      type: \"file\",\n      onChange: e => changeBannerImage(e.target.files[0], inputIndex),\n      id: inputIndex,\n      key: inputIndex\n    }))]);\n    setSlideControl(images.length + 1);\n  }\n\n  function changeBannerImage(file, index) {\n    console.log(\"changeBanner : images =>\", images);\n    setImages(images => images.map((image, ind) => {\n      if (ind == index) return file ? URL.createObjectURL(file) : imageNotFound;\n      return image;\n    }));\n  }\n\n  function removeSlide(id) {\n    clean(id);\n  }\n\n  function clean(id) {\n    setImages(images => images.splice(id - 1, 1));\n    setInputs(inputs => inputs.splice(id - 1, 1));\n    setSlideControl(id);\n  }\n\n  return __jsx(Template, null, __jsx(Sidebar, null), __jsx(Container, null, __jsx(Column, null, images.length == 0 ? __jsx(React.Fragment, null) : __jsx(Slide, {\n    slideCtrl: slideControl,\n    images: images\n  }), __jsx(Button, {\n    style: {\n      width: \"50%\",\n      margin: \"15px auto\",\n      display: \"block\"\n    },\n    onClick: addSlide\n  }, \"Adicionar Slide\"), __jsx(Select, {\n    style: {\n      width: \"50%\",\n      margin: \"0 auto\"\n    },\n    value: slideControl,\n    onChange: e => {\n      console.log(\"inputs => \", inputs);\n      console.log(\"slideControl =>\", slideControl);\n      console.log(\"images length =>\", images.length);\n      setSlideControl(e.target.value);\n    }\n  }, images.map((e, i) => __jsx(\"option\", {\n    value: i + 1\n  }, \"Slide \", i))), __jsx(\"div\", null, inputs.map(input => __jsx(React.Fragment, null, input, \" \", __jsx(\"p\", {\n    onClick: () => removeSlide(inputIndex)\n  }, \"Remover slide\")))), __jsx(Button, {\n    onClick: () => {\n      console.log(images);\n    }\n  }, \"Console log\"))));\n}\nconst Column = styled.div.withConfig({\n  displayName: \"categories__Column\",\n  componentId: \"sc-1r0920d-0\"\n})([\"display:flex;flex-direction:column;\"]);\n\nCategories.getInitialProps = async ({\n  query\n}) => {\n  return {\n    category: query.category\n  };\n};","map":{"version":3,"sources":["/home/ti/Projects/WebProjects/multcostura/web-multcostura/pages/admin/banner/categories.js"],"names":["React","useState","useEffect","styled","Template","Sidebar","Slide","Container","Button","Select","imageNotFound","Categories","images","setImages","inputs","setInputs","slideControl","setSlideControl","addSlide","inputIndex","length","e","changeBannerImage","target","files","file","index","console","log","map","image","ind","URL","createObjectURL","removeSlide","id","clean","splice","width","margin","display","value","i","input","Column","div","getInitialProps","query","category"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Template from \"../../../src/components/templates/Admin\";\nimport Sidebar from \"../../../src/components/admin/Sidebar\";\nimport Slide from \"../../../src/components/utils/Slider\";\nimport {\n  Container,\n  Button,\n  Select\n} from \"../../../src/static/styled-components/base\";\n\nimport imageNotFound from \"../../../src/static/images/image-404.jpg\";\n\nexport default function Categories() {\n  const [images, setImages] = useState([]);\n  const [inputs, setInputs] = useState([]);\n  const [slideControl, setSlideControl] = useState(1);\n\n  function addSlide() {\n    const inputIndex = images.length;\n    setImages([...images, imageNotFound]);\n    setInputs([\n      ...inputs,\n      <div>\n        <p>Banner {inputIndex}</p>\n        <input\n          type=\"file\"\n          onChange={e => changeBannerImage(e.target.files[0], inputIndex)}\n          id={inputIndex}\n          key={inputIndex}\n        />\n      </div>\n    ]);\n    setSlideControl(images.length + 1);\n  }\n\n  function changeBannerImage(file, index) {\n    console.log(\"changeBanner : images =>\", images);\n\n    setImages(images =>\n      images.map((image, ind) => {\n        if (ind == index)\n          return file ? URL.createObjectURL(file) : imageNotFound;\n        return image;\n      })\n    );\n  }\n\n  function removeSlide(id) {\n    clean(id);\n  }\n\n  function clean(id) {\n    setImages(images => images.splice(id - 1, 1));\n    setInputs(inputs => inputs.splice(id - 1, 1));\n    setSlideControl(id);\n  }\n\n  return (\n    <Template>\n      <Sidebar />\n      <Container>\n        <Column>\n          {images.length == 0 ? (\n            <></>\n          ) : (\n            <Slide slideCtrl={slideControl} images={images} />\n          )}\n\n          <Button\n            style={{ width: \"50%\", margin: \"15px auto\", display: \"block\" }}\n            onClick={addSlide}\n          >\n            Adicionar Slide\n          </Button>\n\n          <Select\n            style={{ width: \"50%\", margin: \"0 auto\" }}\n            value={slideControl}\n            onChange={e => {\n              console.log(\"inputs => \", inputs);\n              console.log(\"slideControl =>\", slideControl);\n              console.log(\"images length =>\", images.length);\n\n              setSlideControl(e.target.value);\n            }}\n          >\n            {images.map((e, i) => (\n              <option value={i + 1}>Slide {i}</option>\n            ))}\n          </Select>\n          <div>\n            {inputs.map(input => (\n              <>\n                {input}{\" \"}\n                <p onClick={() => removeSlide(inputIndex)}>Remover slide</p>\n              </>\n            ))}\n          </div>\n\n          <Button\n            onClick={() => {\n              console.log(images);\n            }}\n          >\n            Console log\n          </Button>\n        </Column>\n      </Container>\n    </Template>\n  );\n}\n\nconst Column = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nCategories.getInitialProps = async ({ query }) => {\n  return { category: query.category };\n};\n"]},"metadata":{},"sourceType":"module"}