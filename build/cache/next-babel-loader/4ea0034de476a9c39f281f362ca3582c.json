{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nvar _jsxFileName = \"/home/ti/Projects/WebProjects/multcostura/web-multcostura/pages/admin/banner/categories.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Template from \"../../../src/components/templates/Admin\";\nimport Sidebar from \"../../../src/components/admin/Sidebar\";\nimport Slide from \"../../../src/components/utils/Slider\";\nimport { Container, Button, Select } from \"../../../src/static/styled-components/base\";\nimport imageNotFound from \"../../../src/static/images/image-404.jpg\";\nexport default function Categories() {\n  var _useState = useState([]),\n      images = _useState[0],\n      setImages = _useState[1];\n\n  var _useState2 = useState([]),\n      inputs = _useState2[0],\n      setInputs = _useState2[1];\n\n  var _useState3 = useState(1),\n      slideControl = _useState3[0],\n      setSlideControl = _useState3[1];\n\n  function addSlide() {\n    var inputIndex = images.length;\n    setImages([].concat(_toConsumableArray(images), [imageNotFound]));\n    setInputs([].concat(_toConsumableArray(inputs), [__jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, \"Banner \", inputIndex), __jsx(\"input\", {\n      type: \"file\",\n      onChange: function onChange(e) {\n        return changeBannerImage(e.target.files[0], inputIndex);\n      },\n      id: inputIndex,\n      key: inputIndex,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }), __jsx(\"p\", {\n      onClick: function onClick() {\n        return removeSlide(inputIndex);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, \"Remover slide\"))]));\n    setSlideControl(images.length + 1);\n  }\n\n  function changeBannerImage(file, index) {\n    setImages(function (images) {\n      return images.map(function (image, ind) {\n        if (ind == index) return file ? URL.createObjectURL(file) : imageNotFound;\n        return image;\n      });\n    });\n  }\n\n  function removeSlide(id) {\n    setImages(function (images) {\n      return images.splice(id - 1, 1);\n    });\n    setInputs(function (inputs) {\n      return inputs.splice(id - 1, 1);\n    });\n    setSlideControl(id);\n  }\n\n  return __jsx(Template, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, __jsx(Sidebar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }), __jsx(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, __jsx(Column, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, images.length == 0 ? __jsx(React.Fragment, null) : __jsx(Slide, {\n    slideCtrl: slideControl,\n    images: images,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), __jsx(Button, {\n    style: {\n      width: \"50%\",\n      margin: \"15px auto\",\n      display: \"block\"\n    },\n    onClick: addSlide,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Adicionar Slide\"), __jsx(Select, {\n    style: {\n      width: \"50%\",\n      margin: \"0 auto\"\n    },\n    value: slideControl,\n    onChange: function onChange(e) {\n      console.log(\"inputs => \", inputs);\n      console.log(\"slideControl =>\", slideControl);\n      console.log(\"images length =>\", images.length);\n      setSlideControl(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, images.map(function (e, i) {\n    return __jsx(\"option\", {\n      value: i + 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Slide \", i);\n  })), __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, inputs.map(function (input) {\n    return input;\n  })))));\n}\nvar Column = styled.div.withConfig({\n  displayName: \"categories__Column\",\n  componentId: \"sc-1r0920d-0\"\n})([\"display:flex;flex-direction:column;\"]);\n\nCategories.getInitialProps = function _callee(_ref) {\n  var query;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          query = _ref.query;\n          return _context.abrupt(\"return\", {\n            category: query.category\n          });\n\n        case 2:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};","map":{"version":3,"sources":["/home/ti/Projects/WebProjects/multcostura/web-multcostura/pages/admin/banner/categories.js"],"names":["React","useState","useEffect","styled","Template","Sidebar","Slide","Container","Button","Select","imageNotFound","Categories","images","setImages","inputs","setInputs","slideControl","setSlideControl","addSlide","inputIndex","length","e","changeBannerImage","target","files","removeSlide","file","index","map","image","ind","URL","createObjectURL","id","splice","width","margin","display","console","log","value","i","input","Column","div","getInitialProps","query","category"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Template from \"../../../src/components/templates/Admin\";\nimport Sidebar from \"../../../src/components/admin/Sidebar\";\nimport Slide from \"../../../src/components/utils/Slider\";\nimport {\n  Container,\n  Button,\n  Select\n} from \"../../../src/static/styled-components/base\";\n\nimport imageNotFound from \"../../../src/static/images/image-404.jpg\";\n\nexport default function Categories() {\n  const [images, setImages] = useState([]);\n  const [inputs, setInputs] = useState([]);\n  const [slideControl, setSlideControl] = useState(1);\n\n  function addSlide() {\n    const inputIndex = images.length;\n    setImages([...images, imageNotFound]);\n    setInputs([\n      ...inputs,\n      <div>\n        <p>Banner {inputIndex}</p>\n        <input\n          type=\"file\"\n          onChange={e => changeBannerImage(e.target.files[0], inputIndex)}\n          id={inputIndex}\n          key={inputIndex}\n        />\n        <p onClick={() => removeSlide(inputIndex)}>Remover slide</p>\n      </div>\n    ]);\n    setSlideControl(images.length + 1);\n  }\n\n  function changeBannerImage(file, index) {\n    setImages(images =>\n      images.map((image, ind) => {\n        if (ind == index)\n          return file ? URL.createObjectURL(file) : imageNotFound;\n        return image;\n      })\n    );\n  }\n\n  function removeSlide(id) {\n    setImages(images => images.splice(id - 1, 1));\n    setInputs(inputs => inputs.splice(id - 1, 1));\n    setSlideControl(id);\n  }\n\n  return (\n    <Template>\n      <Sidebar />\n      <Container>\n        <Column>\n          {images.length == 0 ? (\n            <></>\n          ) : (\n            <Slide slideCtrl={slideControl} images={images} />\n          )}\n\n          <Button\n            style={{ width: \"50%\", margin: \"15px auto\", display: \"block\" }}\n            onClick={addSlide}\n          >\n            Adicionar Slide\n          </Button>\n\n          <Select\n            style={{ width: \"50%\", margin: \"0 auto\" }}\n            value={slideControl}\n            onChange={e => {\n              console.log(\"inputs => \", inputs);\n              console.log(\"slideControl =>\", slideControl);\n              console.log(\"images length =>\", images.length);\n\n              setSlideControl(e.target.value);\n            }}\n          >\n            {images.map((e, i) => (\n              <option value={i + 1}>Slide {i}</option>\n            ))}\n          </Select>\n          <div>{inputs.map(input => input)}</div>\n        </Column>\n      </Container>\n    </Template>\n  );\n}\n\nconst Column = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nCategories.getInitialProps = async ({ query }) => {\n  return { category: query.category };\n};\n"]},"metadata":{},"sourceType":"module"}